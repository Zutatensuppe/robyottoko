const wo=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};wo();function ti(e,t){const s=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return t?n=>!!s[n.toLowerCase()]:n=>!!s[n]}const vo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bo=ti(vo);function gn(e){return!!e||e===""}function ee(e){if(x(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=te(i)?Io(i):ee(i);if(n)for(const o in n)t[o]=n[o]}return t}else{if(te(e))return e;if(se(e))return e}}const Co=/;(?![^(]*\))/g,$o=/:(.+)/;function Io(e){const t={};return e.split(Co).forEach(s=>{if(s){const i=s.split($o);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function G(e){let t="";if(te(e))t=e;else if(x(e))for(let s=0;s<e.length;s++){const i=G(e[s]);i&&(t+=i+" ")}else if(se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const z=e=>te(e)?e:e==null?"":x(e)||se(e)&&(e.toString===yn||!D(e.toString))?JSON.stringify(e,pn,2):String(e),pn=(e,t)=>t&&t.__v_isRef?pn(e,t.value):pt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n])=>(s[`${i} =>`]=n,s),{})}:mn(t)?{[`Set(${t.size})`]:[...t.values()]}:se(t)&&!x(t)&&!wn(t)?String(t):t,V={},gt=[],Ce=()=>{},ko=()=>!1,To=/^on[^a-z]/,gs=e=>To.test(e),si=e=>e.startsWith("onUpdate:"),ue=Object.assign,ii=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},So=Object.prototype.hasOwnProperty,R=(e,t)=>So.call(e,t),x=Array.isArray,pt=e=>ps(e)==="[object Map]",mn=e=>ps(e)==="[object Set]",D=e=>typeof e=="function",te=e=>typeof e=="string",ni=e=>typeof e=="symbol",se=e=>e!==null&&typeof e=="object",_n=e=>se(e)&&D(e.then)&&D(e.catch),yn=Object.prototype.toString,ps=e=>yn.call(e),Mo=e=>ps(e).slice(8,-1),wn=e=>ps(e)==="[object Object]",oi=e=>te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,es=ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ms=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Eo=/-(\w)/g,Pe=ms(e=>e.replace(Eo,(t,s)=>s?s.toUpperCase():"")),Po=/\B([A-Z])/g,vt=ms(e=>e.replace(Po,"-$1").toLowerCase()),_s=ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=ms(e=>e?`on${_s(e)}`:""),Nt=(e,t)=>!Object.is(e,t),ts=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},rs=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Bs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Si;const xo=()=>Si||(Si=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Me;class Do{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Me&&(this.parent=Me,this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Me;try{return Me=this,t()}finally{Me=s}}}on(){Me=this}off(){Me=this.parent}stop(t){if(this.active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function Oo(e,t=Me){t&&t.active&&t.effects.push(e)}const ri=e=>{const t=new Set(e);return t.w=0,t.n=0,t},vn=e=>(e.w&Ve)>0,bn=e=>(e.n&Ve)>0,Ao=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ve},Ro=e=>{const{deps:t}=e;if(t.length){let s=0;for(let i=0;i<t.length;i++){const n=t[i];vn(n)&&!bn(n)?n.delete(e):t[s++]=n,n.w&=~Ve,n.n&=~Ve}t.length=s}},Us=new WeakMap;let Et=0,Ve=1;const zs=30;let we;const Ge=Symbol(""),Hs=Symbol("");class li{constructor(t,s=null,i){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Oo(this,i)}run(){if(!this.active)return this.fn();let t=we,s=He;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=we,we=this,He=!0,Ve=1<<++Et,Et<=zs?Ao(this):Mi(this),this.fn()}finally{Et<=zs&&Ro(this),Ve=1<<--Et,we=this.parent,He=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){we===this?this.deferStop=!0:this.active&&(Mi(this),this.onStop&&this.onStop(),this.active=!1)}}function Mi(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let He=!0;const Cn=[];function bt(){Cn.push(He),He=!1}function Ct(){const e=Cn.pop();He=e===void 0?!0:e}function me(e,t,s){if(He&&we){let i=Us.get(e);i||Us.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=ri()),$n(n)}}function $n(e,t){let s=!1;Et<=zs?bn(e)||(e.n|=Ve,s=!vn(e)):s=!e.has(we),s&&(e.add(we),we.deps.push(e))}function Re(e,t,s,i,n,o){const r=Us.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(s==="length"&&x(e))r.forEach((a,h)=>{(h==="length"||h>=i)&&l.push(a)});else switch(s!==void 0&&l.push(r.get(s)),t){case"add":x(e)?oi(s)&&l.push(r.get("length")):(l.push(r.get(Ge)),pt(e)&&l.push(r.get(Hs)));break;case"delete":x(e)||(l.push(r.get(Ge)),pt(e)&&l.push(r.get(Hs)));break;case"set":pt(e)&&l.push(r.get(Ge));break}if(l.length===1)l[0]&&Ws(l[0]);else{const a=[];for(const h of l)h&&a.push(...h);Ws(ri(a))}}function Ws(e,t){const s=x(e)?e:[...e];for(const i of s)i.computed&&Ei(i);for(const i of s)i.computed||Ei(i)}function Ei(e,t){(e!==we||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Fo=ti("__proto__,__v_isRef,__isVue"),In=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ni)),Lo=ai(),No=ai(!1,!0),Bo=ai(!0),Pi=Uo();function Uo(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=B(this);for(let o=0,r=this.length;o<r;o++)me(i,"get",o+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(B)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){bt();const i=B(this)[t].apply(this,s);return Ct(),i}}),e}function ai(e=!1,t=!1){return function(i,n,o){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&o===(e?t?sr:En:t?Mn:Sn).get(i))return i;const r=x(i);if(!e&&r&&R(Pi,n))return Reflect.get(Pi,n,o);const l=Reflect.get(i,n,o);return(ni(n)?In.has(n):Fo(n))||(e||me(i,"get",n),t)?l:oe(l)?r&&oi(n)?l:l.value:se(l)?e?Pn(l):di(l):l}}const zo=kn(),Ho=kn(!0);function kn(e=!1){return function(s,i,n,o){let r=s[i];if(Bt(r)&&oe(r)&&!oe(n))return!1;if(!e&&!Bt(n)&&(Vs(n)||(n=B(n),r=B(r)),!x(s)&&oe(r)&&!oe(n)))return r.value=n,!0;const l=x(s)&&oi(i)?Number(i)<s.length:R(s,i),a=Reflect.set(s,i,n,o);return s===B(o)&&(l?Nt(n,r)&&Re(s,"set",i,n):Re(s,"add",i,n)),a}}function Wo(e,t){const s=R(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&Re(e,"delete",t,void 0),i}function Vo(e,t){const s=Reflect.has(e,t);return(!ni(t)||!In.has(t))&&me(e,"has",t),s}function qo(e){return me(e,"iterate",x(e)?"length":Ge),Reflect.ownKeys(e)}const Tn={get:Lo,set:zo,deleteProperty:Wo,has:Vo,ownKeys:qo},Ko={get:Bo,set(e,t){return!0},deleteProperty(e,t){return!0}},Jo=ue({},Tn,{get:No,set:Ho}),ci=e=>e,ys=e=>Reflect.getPrototypeOf(e);function jt(e,t,s=!1,i=!1){e=e.__v_raw;const n=B(e),o=B(t);s||(t!==o&&me(n,"get",t),me(n,"get",o));const{has:r}=ys(n),l=i?ci:s?hi:Ut;if(r.call(n,t))return l(e.get(t));if(r.call(n,o))return l(e.get(o));e!==n&&e.get(t)}function Qt(e,t=!1){const s=this.__v_raw,i=B(s),n=B(e);return t||(e!==n&&me(i,"has",e),me(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function Zt(e,t=!1){return e=e.__v_raw,!t&&me(B(e),"iterate",Ge),Reflect.get(e,"size",e)}function xi(e){e=B(e);const t=B(this);return ys(t).has.call(t,e)||(t.add(e),Re(t,"add",e,e)),this}function Di(e,t){t=B(t);const s=B(this),{has:i,get:n}=ys(s);let o=i.call(s,e);o||(e=B(e),o=i.call(s,e));const r=n.call(s,e);return s.set(e,t),o?Nt(t,r)&&Re(s,"set",e,t):Re(s,"add",e,t),this}function Oi(e){const t=B(this),{has:s,get:i}=ys(t);let n=s.call(t,e);n||(e=B(e),n=s.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return n&&Re(t,"delete",e,void 0),o}function Ai(){const e=B(this),t=e.size!==0,s=e.clear();return t&&Re(e,"clear",void 0,void 0),s}function Xt(e,t){return function(i,n){const o=this,r=o.__v_raw,l=B(r),a=t?ci:e?hi:Ut;return!e&&me(l,"iterate",Ge),r.forEach((h,p)=>i.call(n,a(h),a(p),o))}}function Gt(e,t,s){return function(...i){const n=this.__v_raw,o=B(n),r=pt(o),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,h=n[e](...i),p=s?ci:t?hi:Ut;return!t&&me(o,"iterate",a?Hs:Ge),{next(){const{value:I,done:f}=h.next();return f?{value:I,done:f}:{value:l?[p(I[0]),p(I[1])]:p(I),done:f}},[Symbol.iterator](){return this}}}}function Be(e){return function(...t){return e==="delete"?!1:this}}function Yo(){const e={get(o){return jt(this,o)},get size(){return Zt(this)},has:Qt,add:xi,set:Di,delete:Oi,clear:Ai,forEach:Xt(!1,!1)},t={get(o){return jt(this,o,!1,!0)},get size(){return Zt(this)},has:Qt,add:xi,set:Di,delete:Oi,clear:Ai,forEach:Xt(!1,!0)},s={get(o){return jt(this,o,!0)},get size(){return Zt(this,!0)},has(o){return Qt.call(this,o,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:Xt(!0,!1)},i={get(o){return jt(this,o,!0,!0)},get size(){return Zt(this,!0)},has(o){return Qt.call(this,o,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:Xt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Gt(o,!1,!1),s[o]=Gt(o,!0,!1),t[o]=Gt(o,!1,!0),i[o]=Gt(o,!0,!0)}),[e,s,t,i]}const[jo,Qo,Zo,Xo]=Yo();function ui(e,t){const s=t?e?Xo:Zo:e?Qo:jo;return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(R(s,n)&&n in i?s:i,n,o)}const Go={get:ui(!1,!1)},er={get:ui(!1,!0)},tr={get:ui(!0,!1)},Sn=new WeakMap,Mn=new WeakMap,En=new WeakMap,sr=new WeakMap;function ir(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nr(e){return e.__v_skip||!Object.isExtensible(e)?0:ir(Mo(e))}function di(e){return Bt(e)?e:fi(e,!1,Tn,Go,Sn)}function or(e){return fi(e,!1,Jo,er,Mn)}function Pn(e){return fi(e,!0,Ko,tr,En)}function fi(e,t,s,i,n){if(!se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const r=nr(e);if(r===0)return e;const l=new Proxy(e,r===2?i:s);return n.set(e,l),l}function mt(e){return Bt(e)?mt(e.__v_raw):!!(e&&e.__v_isReactive)}function Bt(e){return!!(e&&e.__v_isReadonly)}function Vs(e){return!!(e&&e.__v_isShallow)}function xn(e){return mt(e)||Bt(e)}function B(e){const t=e&&e.__v_raw;return t?B(t):e}function Dn(e){return rs(e,"__v_skip",!0),e}const Ut=e=>se(e)?di(e):e,hi=e=>se(e)?Pn(e):e;function On(e){He&&we&&(e=B(e),$n(e.dep||(e.dep=ri())))}function An(e,t){e=B(e),e.dep&&Ws(e.dep)}function oe(e){return!!(e&&e.__v_isRef===!0)}function Ri(e){return rr(e,!1)}function rr(e,t){return oe(e)?e:new lr(e,t)}class lr{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:B(t),this._value=s?t:Ut(t)}get value(){return On(this),this._value}set value(t){t=this.__v_isShallow?t:B(t),Nt(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ut(t),An(this))}}function ls(e){return oe(e)?e.value:e}const ar={get:(e,t,s)=>ls(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return oe(n)&&!oe(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Rn(e){return mt(e)?e:new Proxy(e,ar)}class cr{constructor(t,s,i,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new li(t,()=>{this._dirty||(this._dirty=!0,An(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=B(this);return On(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ur(e,t,s=!1){let i,n;const o=D(e);return o?(i=e,n=Ce):(i=e.get,n=e.set),new cr(i,n,o||!n,s)}function We(e,t,s,i){let n;try{n=i?e(...i):e()}catch(o){ws(o,t,s)}return n}function $e(e,t,s,i){if(D(e)){const o=We(e,t,s,i);return o&&_n(o)&&o.catch(r=>{ws(r,t,s)}),o}const n=[];for(let o=0;o<e.length;o++)n.push($e(e[o],t,s,i));return n}function ws(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,l=s;for(;o;){const h=o.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,r,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){We(a,null,10,[e,r,l]);return}}dr(e,s,n,i)}function dr(e,t,s,i=!0){console.error(e)}let as=!1,qs=!1;const pe=[];let Ae=0;const Ot=[];let Pt=null,dt=0;const At=[];let Ue=null,ft=0;const Fn=Promise.resolve();let gi=null,Ks=null;function fr(e){const t=gi||Fn;return e?t.then(this?e.bind(this):e):t}function hr(e){let t=Ae+1,s=pe.length;for(;t<s;){const i=t+s>>>1;zt(pe[i])<e?t=i+1:s=i}return t}function Ln(e){(!pe.length||!pe.includes(e,as&&e.allowRecurse?Ae+1:Ae))&&e!==Ks&&(e.id==null?pe.push(e):pe.splice(hr(e.id),0,e),Nn())}function Nn(){!as&&!qs&&(qs=!0,gi=Fn.then(zn))}function gr(e){const t=pe.indexOf(e);t>Ae&&pe.splice(t,1)}function Bn(e,t,s,i){x(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&s.push(e),Nn()}function pr(e){Bn(e,Pt,Ot,dt)}function mr(e){Bn(e,Ue,At,ft)}function vs(e,t=null){if(Ot.length){for(Ks=t,Pt=[...new Set(Ot)],Ot.length=0,dt=0;dt<Pt.length;dt++)Pt[dt]();Pt=null,dt=0,Ks=null,vs(e,t)}}function Un(e){if(vs(),At.length){const t=[...new Set(At)];if(At.length=0,Ue){Ue.push(...t);return}for(Ue=t,Ue.sort((s,i)=>zt(s)-zt(i)),ft=0;ft<Ue.length;ft++)Ue[ft]();Ue=null,ft=0}}const zt=e=>e.id==null?1/0:e.id;function zn(e){qs=!1,as=!0,vs(e),pe.sort((s,i)=>zt(s)-zt(i));const t=Ce;try{for(Ae=0;Ae<pe.length;Ae++){const s=pe[Ae];s&&s.active!==!1&&We(s,null,14)}}finally{Ae=0,pe.length=0,Un(),as=!1,gi=null,(pe.length||Ot.length||At.length)&&zn(e)}}function _r(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||V;let n=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in i){const p=`${r==="modelValue"?"model":r}Modifiers`,{number:I,trim:f}=i[p]||V;f&&(n=s.map(S=>S.trim())),I&&(n=s.map(Bs))}let l,a=i[l=Os(t)]||i[l=Os(Pe(t))];!a&&o&&(a=i[l=Os(vt(t))]),a&&$e(a,e,6,n);const h=i[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,$e(h,e,6,n)}}function Hn(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},l=!1;if(!D(e)){const a=h=>{const p=Hn(h,t,!0);p&&(l=!0,ue(r,p))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(i.set(e,null),null):(x(o)?o.forEach(a=>r[a]=null):ue(r,o),i.set(e,r),r)}function bs(e,t){return!e||!gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),R(e,t[0].toLowerCase()+t.slice(1))||R(e,vt(t))||R(e,t))}let ve=null,Wn=null;function cs(e){const t=ve;return ve=e,Wn=e&&e.type.__scopeId||null,t}function yr(e,t=ve,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&qi(-1);const o=cs(t),r=e(...n);return cs(o),i._d&&qi(1),r};return i._n=!0,i._c=!0,i._d=!0,i}function As(e){const{type:t,vnode:s,proxy:i,withProxy:n,props:o,propsOptions:[r],slots:l,attrs:a,emit:h,render:p,renderCache:I,data:f,setupState:S,ctx:A,inheritAttrs:j}=e;let F,U;const Le=cs(e);try{if(s.shapeFlag&4){const ae=n||i;F=Ee(p.call(ae,ae,I,o,S,f,A)),U=a}else{const ae=t;F=Ee(ae.length>1?ae(o,{attrs:a,slots:l,emit:h}):ae(o,null)),U=t.props?a:wr(a)}}catch(ae){Rt.length=0,ws(ae,e,1),F=X(st)}let le=F;if(U&&j!==!1){const ae=Object.keys(U),{shapeFlag:rt}=le;ae.length&&rt&7&&(r&&ae.some(si)&&(U=vr(U,r)),le=yt(le,U))}return s.dirs&&(le=yt(le),le.dirs=le.dirs?le.dirs.concat(s.dirs):s.dirs),s.transition&&(le.transition=s.transition),F=le,cs(Le),F}const wr=e=>{let t;for(const s in e)(s==="class"||s==="style"||gs(s))&&((t||(t={}))[s]=e[s]);return t},vr=(e,t)=>{const s={};for(const i in e)(!si(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function br(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:l,patchFlag:a}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return i?Fi(i,r,h):!!r;if(a&8){const p=t.dynamicProps;for(let I=0;I<p.length;I++){const f=p[I];if(r[f]!==i[f]&&!bs(h,f))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===r?!1:i?r?Fi(i,r,h):!0:!!r;return!1}function Fi(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!bs(s,o))return!0}return!1}function Cr({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const $r=e=>e.__isSuspense;function Ir(e,t){t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):mr(e)}function kr(e,t){if(ne){let s=ne.provides;const i=ne.parent&&ne.parent.provides;i===s&&(s=ne.provides=Object.create(i)),s[e]=t}}function Rs(e,t,s=!1){const i=ne||ve;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&D(t)?t.call(i.proxy):t}}const Li={};function ss(e,t,s){return Vn(e,t,s)}function Vn(e,t,{immediate:s,deep:i,flush:n,onTrack:o,onTrigger:r}=V){const l=ne;let a,h=!1,p=!1;if(oe(e)?(a=()=>e.value,h=Vs(e)):mt(e)?(a=()=>e,i=!0):x(e)?(p=!0,h=e.some(U=>mt(U)||Vs(U)),a=()=>e.map(U=>{if(oe(U))return U.value;if(mt(U))return Xe(U);if(D(U))return We(U,l,2)})):D(e)?t?a=()=>We(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return I&&I(),$e(e,l,3,[f])}:a=Ce,t&&i){const U=a;a=()=>Xe(U())}let I,f=U=>{I=F.onStop=()=>{We(U,l,4)}};if(Wt)return f=Ce,t?s&&$e(t,l,3,[a(),p?[]:void 0,f]):a(),Ce;let S=p?[]:Li;const A=()=>{if(!!F.active)if(t){const U=F.run();(i||h||(p?U.some((Le,le)=>Nt(Le,S[le])):Nt(U,S)))&&(I&&I(),$e(t,l,3,[U,S===Li?void 0:S,f]),S=U)}else F.run()};A.allowRecurse=!!t;let j;n==="sync"?j=A:n==="post"?j=()=>fe(A,l&&l.suspense):j=()=>pr(A);const F=new li(a,j);return t?s?A():S=F.run():n==="post"?fe(F.run.bind(F),l&&l.suspense):F.run(),()=>{F.stop(),l&&l.scope&&ii(l.scope.effects,F)}}function Tr(e,t,s){const i=this.proxy,n=te(e)?e.includes(".")?qn(i,e):()=>i[e]:e.bind(i,i);let o;D(t)?o=t:(o=t.handler,s=t);const r=ne;wt(this);const l=Vn(n,o.bind(i),s);return r?wt(r):et(),l}function qn(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function Xe(e,t){if(!se(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),oe(e))Xe(e.value,t);else if(x(e))for(let s=0;s<e.length;s++)Xe(e[s],t);else if(mn(e)||pt(e))e.forEach(s=>{Xe(s,t)});else if(wn(e))for(const s in e)Xe(e[s],t);return e}function Z(e){return D(e)?{setup:e,name:e.name}:e}const is=e=>!!e.type.__asyncLoader,Kn=e=>e.type.__isKeepAlive;function Sr(e,t){Jn(e,"a",t)}function Mr(e,t){Jn(e,"da",t)}function Jn(e,t,s=ne){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Cs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Kn(n.parent.vnode)&&Er(i,t,s,n),n=n.parent}}function Er(e,t,s,i){const n=Cs(t,e,i,!0);pi(()=>{ii(i[t],n)},s)}function Cs(e,t,s=ne,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;bt(),wt(s);const l=$e(t,s,e,r);return et(),Ct(),l});return i?n.unshift(o):n.push(o),o}}const Fe=e=>(t,s=ne)=>(!Wt||e==="sp")&&Cs(e,t,s),Pr=Fe("bm"),Yn=Fe("m"),xr=Fe("bu"),Dr=Fe("u"),Or=Fe("bum"),pi=Fe("um"),Ar=Fe("sp"),Rr=Fe("rtg"),Fr=Fe("rtc");function Lr(e,t=ne){Cs("ec",e,t)}function Fs(e,t){const s=ve;if(s===null)return e;const i=Is(s)||s.proxy,n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,l,a,h=V]=t[o];D(r)&&(r={mounted:r,updated:r}),r.deep&&Xe(l),n.push({dir:r,instance:i,value:l,oldValue:void 0,arg:a,modifiers:h})}return e}function Ke(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const l=n[r];o&&(l.oldValue=o[r].value);let a=l.dir[i];a&&(bt(),$e(a,s,8,[e.el,l,e,t]),Ct())}}const jn="components";function Q(e,t){return Br(jn,e,!0,t)||e}const Nr=Symbol();function Br(e,t,s=!0,i=!1){const n=ve||ne;if(n){const o=n.type;if(e===jn){const l=ml(o);if(l&&(l===t||l===Pe(t)||l===_s(Pe(t))))return o}const r=Ni(n[e]||o[e],t)||Ni(n.appContext[e],t);return!r&&i?o:r}}function Ni(e,t){return e&&(e[t]||e[Pe(t)]||e[_s(Pe(t))])}function he(e,t,s,i){let n;const o=s&&s[i];if(x(e)||te(e)){n=new Array(e.length);for(let r=0,l=e.length;r<l;r++)n[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o&&o[r])}else if(se(e))if(e[Symbol.iterator])n=Array.from(e,(r,l)=>t(r,l,void 0,o&&o[l]));else{const r=Object.keys(e);n=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const h=r[l];n[l]=t(e[h],h,l,o&&o[l])}}else n=[];return s&&(s[i]=n),n}const Js=e=>e?lo(e)?Is(e)||e.proxy:Js(e.parent):null,us=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Js(e.parent),$root:e=>Js(e.root),$emit:e=>e.emit,$options:e=>Zn(e),$forceUpdate:e=>e.f||(e.f=()=>Ln(e.update)),$nextTick:e=>e.n||(e.n=fr.bind(e.proxy)),$watch:e=>Tr.bind(e)}),Ur={get({_:e},t){const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:l,appContext:a}=e;let h;if(t[0]!=="$"){const S=r[t];if(S!==void 0)switch(S){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(i!==V&&R(i,t))return r[t]=1,i[t];if(n!==V&&R(n,t))return r[t]=2,n[t];if((h=e.propsOptions[0])&&R(h,t))return r[t]=3,o[t];if(s!==V&&R(s,t))return r[t]=4,s[t];Ys&&(r[t]=0)}}const p=us[t];let I,f;if(p)return t==="$attrs"&&me(e,"get",t),p(e);if((I=l.__cssModules)&&(I=I[t]))return I;if(s!==V&&R(s,t))return r[t]=4,s[t];if(f=a.config.globalProperties,R(f,t))return f[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return n!==V&&R(n,t)?(n[t]=s,!0):i!==V&&R(i,t)?(i[t]=s,!0):R(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},r){let l;return!!s[r]||e!==V&&R(e,r)||t!==V&&R(t,r)||(l=o[0])&&R(l,r)||R(i,r)||R(us,r)||R(n.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:R(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let Ys=!0;function zr(e){const t=Zn(e),s=e.proxy,i=e.ctx;Ys=!1,t.beforeCreate&&Bi(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:l,provide:a,inject:h,created:p,beforeMount:I,mounted:f,beforeUpdate:S,updated:A,activated:j,deactivated:F,beforeDestroy:U,beforeUnmount:Le,destroyed:le,unmounted:ae,render:rt,renderTracked:Ss,renderTriggered:Ms,errorCaptured:Kt,serverPrefetch:qe,expose:$t,inheritAttrs:lt,components:It,directives:Jt,filters:bi}=t;if(h&&Hr(h,i,null,e.appContext.config.unwrapInjectedRef),r)for(const Y in r){const q=r[Y];D(q)&&(i[Y]=q.bind(s))}if(n){const Y=n.call(s,s);se(Y)&&(e.data=di(Y))}if(Ys=!0,o)for(const Y in o){const q=o[Y],xe=D(q)?q.bind(s,s):D(q.get)?q.get.bind(s,s):Ce,Ps=!D(q)&&D(q.set)?q.set.bind(s):Ce,kt=wi({get:xe,set:Ps});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>kt.value,set:at=>kt.value=at})}if(l)for(const Y in l)Qn(l[Y],i,s,Y);if(a){const Y=D(a)?a.call(s):a;Reflect.ownKeys(Y).forEach(q=>{kr(q,Y[q])})}p&&Bi(p,e,"c");function de(Y,q){x(q)?q.forEach(xe=>Y(xe.bind(s))):q&&Y(q.bind(s))}if(de(Pr,I),de(Yn,f),de(xr,S),de(Dr,A),de(Sr,j),de(Mr,F),de(Lr,Kt),de(Fr,Ss),de(Rr,Ms),de(Or,Le),de(pi,ae),de(Ar,qe),x($t))if($t.length){const Y=e.exposed||(e.exposed={});$t.forEach(q=>{Object.defineProperty(Y,q,{get:()=>s[q],set:xe=>s[q]=xe})})}else e.exposed||(e.exposed={});rt&&e.render===Ce&&(e.render=rt),lt!=null&&(e.inheritAttrs=lt),It&&(e.components=It),Jt&&(e.directives=Jt)}function Hr(e,t,s=Ce,i=!1){x(e)&&(e=js(e));for(const n in e){const o=e[n];let r;se(o)?"default"in o?r=Rs(o.from||n,o.default,!0):r=Rs(o.from||n):r=Rs(o),oe(r)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[n]=r}}function Bi(e,t,s){$e(x(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function Qn(e,t,s,i){const n=i.includes(".")?qn(s,i):()=>s[i];if(te(e)){const o=t[e];D(o)&&ss(n,o)}else if(D(e))ss(n,e.bind(s));else if(se(e))if(x(e))e.forEach(o=>Qn(o,t,s,i));else{const o=D(e.handler)?e.handler.bind(s):t[e.handler];D(o)&&ss(n,o,e)}}function Zn(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let a;return l?a=l:!n.length&&!s&&!i?a=t:(a={},n.length&&n.forEach(h=>ds(a,h,r,!0)),ds(a,t,r)),o.set(t,a),a}function ds(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&ds(e,o,s,!0),n&&n.forEach(r=>ds(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const l=Wr[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Wr={data:Ui,props:Qe,emits:Qe,methods:Qe,computed:Qe,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:Qe,directives:Qe,watch:qr,provide:Ui,inject:Vr};function Ui(e,t){return t?e?function(){return ue(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function Vr(e,t){return Qe(js(e),js(t))}function js(e){if(x(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ce(e,t){return e?[...new Set([].concat(e,t))]:t}function Qe(e,t){return e?ue(ue(Object.create(null),e),t):t}function qr(e,t){if(!e)return t;if(!t)return e;const s=ue(Object.create(null),e);for(const i in t)s[i]=ce(e[i],t[i]);return s}function Kr(e,t,s,i=!1){const n={},o={};rs(o,$s,1),e.propsDefaults=Object.create(null),Xn(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:or(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Jr(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,l=B(n),[a]=e.propsOptions;let h=!1;if((i||r>0)&&!(r&16)){if(r&8){const p=e.vnode.dynamicProps;for(let I=0;I<p.length;I++){let f=p[I];if(bs(e.emitsOptions,f))continue;const S=t[f];if(a)if(R(o,f))S!==o[f]&&(o[f]=S,h=!0);else{const A=Pe(f);n[A]=Qs(a,l,A,S,e,!1)}else S!==o[f]&&(o[f]=S,h=!0)}}}else{Xn(e,t,n,o)&&(h=!0);let p;for(const I in l)(!t||!R(t,I)&&((p=vt(I))===I||!R(t,p)))&&(a?s&&(s[I]!==void 0||s[p]!==void 0)&&(n[I]=Qs(a,l,I,void 0,e,!0)):delete n[I]);if(o!==l)for(const I in o)(!t||!R(t,I)&&!0)&&(delete o[I],h=!0)}h&&Re(e,"set","$attrs")}function Xn(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(es(a))continue;const h=t[a];let p;n&&R(n,p=Pe(a))?!o||!o.includes(p)?s[p]=h:(l||(l={}))[p]=h:bs(e.emitsOptions,a)||(!(a in i)||h!==i[a])&&(i[a]=h,r=!0)}if(o){const a=B(s),h=l||V;for(let p=0;p<o.length;p++){const I=o[p];s[I]=Qs(n,a,I,h[I],e,!R(h,I))}}return r}function Qs(e,t,s,i,n,o){const r=e[s];if(r!=null){const l=R(r,"default");if(l&&i===void 0){const a=r.default;if(r.type!==Function&&D(a)){const{propsDefaults:h}=n;s in h?i=h[s]:(wt(n),i=h[s]=a.call(null,t),et())}else i=a}r[0]&&(o&&!l?i=!1:r[1]&&(i===""||i===vt(s))&&(i=!0))}return i}function Gn(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},l=[];let a=!1;if(!D(e)){const p=I=>{a=!0;const[f,S]=Gn(I,t,!0);ue(r,f),S&&l.push(...S)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!a)return i.set(e,gt),gt;if(x(o))for(let p=0;p<o.length;p++){const I=Pe(o[p]);zi(I)&&(r[I]=V)}else if(o)for(const p in o){const I=Pe(p);if(zi(I)){const f=o[p],S=r[I]=x(f)||D(f)?{type:f}:f;if(S){const A=Vi(Boolean,S.type),j=Vi(String,S.type);S[0]=A>-1,S[1]=j<0||A<j,(A>-1||R(S,"default"))&&l.push(I)}}}const h=[r,l];return i.set(e,h),h}function zi(e){return e[0]!=="$"}function Hi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Wi(e,t){return Hi(e)===Hi(t)}function Vi(e,t){return x(t)?t.findIndex(s=>Wi(s,e)):D(t)&&Wi(t,e)?0:-1}const eo=e=>e[0]==="_"||e==="$stable",mi=e=>x(e)?e.map(Ee):[Ee(e)],Yr=(e,t,s)=>{if(t._n)return t;const i=yr((...n)=>mi(t(...n)),s);return i._c=!1,i},to=(e,t,s)=>{const i=e._ctx;for(const n in e){if(eo(n))continue;const o=e[n];if(D(o))t[n]=Yr(n,o,i);else if(o!=null){const r=mi(o);t[n]=()=>r}}},so=(e,t)=>{const s=mi(t);e.slots.default=()=>s},jr=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=B(t),rs(t,"_",s)):to(t,e.slots={})}else e.slots={},t&&so(e,t);rs(e.slots,$s,1)},Qr=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=V;if(i.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:(ue(n,t),!s&&l===1&&delete n._):(o=!t.$stable,to(t,n)),r=t}else t&&(so(e,t),r={default:1});if(o)for(const l in n)!eo(l)&&!(l in r)&&delete n[l]};function io(){return{app:null,config:{isNativeTag:ko,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zr=0;function Xr(e,t){return function(i,n=null){D(i)||(i=Object.assign({},i)),n!=null&&!se(n)&&(n=null);const o=io(),r=new Set;let l=!1;const a=o.app={_uid:Zr++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:yl,get config(){return o.config},set config(h){},use(h,...p){return r.has(h)||(h&&D(h.install)?(r.add(h),h.install(a,...p)):D(h)&&(r.add(h),h(a,...p))),a},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),a},component(h,p){return p?(o.components[h]=p,a):o.components[h]},directive(h,p){return p?(o.directives[h]=p,a):o.directives[h]},mount(h,p,I){if(!l){const f=X(i,n);return f.appContext=o,p&&t?t(f,h):e(f,h,I),l=!0,a._container=h,h.__vue_app__=a,Is(f.component)||f.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(h,p){return o.provides[h]=p,a}};return a}}function Zs(e,t,s,i,n=!1){if(x(e)){e.forEach((f,S)=>Zs(f,t&&(x(t)?t[S]:t),s,i,n));return}if(is(i)&&!n)return;const o=i.shapeFlag&4?Is(i.component)||i.component.proxy:i.el,r=n?null:o,{i:l,r:a}=e,h=t&&t.r,p=l.refs===V?l.refs={}:l.refs,I=l.setupState;if(h!=null&&h!==a&&(te(h)?(p[h]=null,R(I,h)&&(I[h]=null)):oe(h)&&(h.value=null)),D(a))We(a,l,12,[r,p]);else{const f=te(a),S=oe(a);if(f||S){const A=()=>{if(e.f){const j=f?p[a]:a.value;n?x(j)&&ii(j,o):x(j)?j.includes(o)||j.push(o):f?(p[a]=[o],R(I,a)&&(I[a]=p[a])):(a.value=[o],e.k&&(p[e.k]=a.value))}else f?(p[a]=r,R(I,a)&&(I[a]=r)):oe(a)&&(a.value=r,e.k&&(p[e.k]=r))};r?(A.id=-1,fe(A,s)):A()}}}const fe=Ir;function Gr(e){return el(e)}function el(e,t){const s=xo();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:l,createComment:a,setText:h,setElementText:p,parentNode:I,nextSibling:f,setScopeId:S=Ce,cloneNode:A,insertStaticContent:j}=e,F=(c,u,g,_=null,m=null,b=null,k=!1,v=null,C=!!u.dynamicChildren)=>{if(c===u)return;c&&!St(c,u)&&(_=Yt(c),Ne(c,m,b,!0),c=null),u.patchFlag===-2&&(C=!1,u.dynamicChildren=null);const{type:y,ref:M,shapeFlag:T}=u;switch(y){case _i:U(c,u,g,_);break;case st:Le(c,u,g,_);break;case ns:c==null&&le(u,g,_,k);break;case J:Jt(c,u,g,_,m,b,k,v,C);break;default:T&1?Ss(c,u,g,_,m,b,k,v,C):T&6?bi(c,u,g,_,m,b,k,v,C):(T&64||T&128)&&y.process(c,u,g,_,m,b,k,v,C,ct)}M!=null&&m&&Zs(M,c&&c.ref,b,u||c,!u)},U=(c,u,g,_)=>{if(c==null)i(u.el=l(u.children),g,_);else{const m=u.el=c.el;u.children!==c.children&&h(m,u.children)}},Le=(c,u,g,_)=>{c==null?i(u.el=a(u.children||""),g,_):u.el=c.el},le=(c,u,g,_)=>{[c.el,c.anchor]=j(c.children,u,g,_,c.el,c.anchor)},ae=({el:c,anchor:u},g,_)=>{let m;for(;c&&c!==u;)m=f(c),i(c,g,_),c=m;i(u,g,_)},rt=({el:c,anchor:u})=>{let g;for(;c&&c!==u;)g=f(c),n(c),c=g;n(u)},Ss=(c,u,g,_,m,b,k,v,C)=>{k=k||u.type==="svg",c==null?Ms(u,g,_,m,b,k,v,C):$t(c,u,m,b,k,v,C)},Ms=(c,u,g,_,m,b,k,v)=>{let C,y;const{type:M,props:T,shapeFlag:E,transition:P,patchFlag:L,dirs:H}=c;if(c.el&&A!==void 0&&L===-1)C=c.el=A(c.el);else{if(C=c.el=r(c.type,b,T&&T.is,T),E&8?p(C,c.children):E&16&&qe(c.children,C,null,_,m,b&&M!=="foreignObject",k,v),H&&Ke(c,null,_,"created"),T){for(const K in T)K!=="value"&&!es(K)&&o(C,K,null,T[K],b,c.children,_,m,De);"value"in T&&o(C,"value",null,T.value),(y=T.onVnodeBeforeMount)&&Te(y,_,c)}Kt(C,c,c.scopeId,k,_)}H&&Ke(c,null,_,"beforeMount");const W=(!m||m&&!m.pendingBranch)&&P&&!P.persisted;W&&P.beforeEnter(C),i(C,u,g),((y=T&&T.onVnodeMounted)||W||H)&&fe(()=>{y&&Te(y,_,c),W&&P.enter(C),H&&Ke(c,null,_,"mounted")},m)},Kt=(c,u,g,_,m)=>{if(g&&S(c,g),_)for(let b=0;b<_.length;b++)S(c,_[b]);if(m){let b=m.subTree;if(u===b){const k=m.vnode;Kt(c,k,k.scopeId,k.slotScopeIds,m.parent)}}},qe=(c,u,g,_,m,b,k,v,C=0)=>{for(let y=C;y<c.length;y++){const M=c[y]=v?ze(c[y]):Ee(c[y]);F(null,M,u,g,_,m,b,k,v)}},$t=(c,u,g,_,m,b,k)=>{const v=u.el=c.el;let{patchFlag:C,dynamicChildren:y,dirs:M}=u;C|=c.patchFlag&16;const T=c.props||V,E=u.props||V;let P;g&&Je(g,!1),(P=E.onVnodeBeforeUpdate)&&Te(P,g,u,c),M&&Ke(u,c,g,"beforeUpdate"),g&&Je(g,!0);const L=m&&u.type!=="foreignObject";if(y?lt(c.dynamicChildren,y,v,g,_,L,b):k||xe(c,u,v,null,g,_,L,b,!1),C>0){if(C&16)It(v,u,T,E,g,_,m);else if(C&2&&T.class!==E.class&&o(v,"class",null,E.class,m),C&4&&o(v,"style",T.style,E.style,m),C&8){const H=u.dynamicProps;for(let W=0;W<H.length;W++){const K=H[W],ye=T[K],ut=E[K];(ut!==ye||K==="value")&&o(v,K,ye,ut,m,c.children,g,_,De)}}C&1&&c.children!==u.children&&p(v,u.children)}else!k&&y==null&&It(v,u,T,E,g,_,m);((P=E.onVnodeUpdated)||M)&&fe(()=>{P&&Te(P,g,u,c),M&&Ke(u,c,g,"updated")},_)},lt=(c,u,g,_,m,b,k)=>{for(let v=0;v<u.length;v++){const C=c[v],y=u[v],M=C.el&&(C.type===J||!St(C,y)||C.shapeFlag&70)?I(C.el):g;F(C,y,M,null,_,m,b,k,!0)}},It=(c,u,g,_,m,b,k)=>{if(g!==_){for(const v in _){if(es(v))continue;const C=_[v],y=g[v];C!==y&&v!=="value"&&o(c,v,y,C,k,u.children,m,b,De)}if(g!==V)for(const v in g)!es(v)&&!(v in _)&&o(c,v,g[v],null,k,u.children,m,b,De);"value"in _&&o(c,"value",g.value,_.value)}},Jt=(c,u,g,_,m,b,k,v,C)=>{const y=u.el=c?c.el:l(""),M=u.anchor=c?c.anchor:l("");let{patchFlag:T,dynamicChildren:E,slotScopeIds:P}=u;P&&(v=v?v.concat(P):P),c==null?(i(y,g,_),i(M,g,_),qe(u.children,g,M,m,b,k,v,C)):T>0&&T&64&&E&&c.dynamicChildren?(lt(c.dynamicChildren,E,g,m,b,k,v),(u.key!=null||m&&u===m.subTree)&&no(c,u,!0)):xe(c,u,g,M,m,b,k,v,C)},bi=(c,u,g,_,m,b,k,v,C)=>{u.slotScopeIds=v,c==null?u.shapeFlag&512?m.ctx.activate(u,g,_,k,C):Es(u,g,_,m,b,k,C):de(c,u,C)},Es=(c,u,g,_,m,b,k)=>{const v=c.component=dl(c,_,m);if(Kn(c)&&(v.ctx.renderer=ct),fl(v),v.asyncDep){if(m&&m.registerDep(v,Y),!c.el){const C=v.subTree=X(st);Le(null,C,u,g)}return}Y(v,c,u,g,m,b,k)},de=(c,u,g)=>{const _=u.component=c.component;if(br(c,u,g))if(_.asyncDep&&!_.asyncResolved){q(_,u,g);return}else _.next=u,gr(_.update),_.update();else u.el=c.el,_.vnode=u},Y=(c,u,g,_,m,b,k)=>{const v=()=>{if(c.isMounted){let{next:M,bu:T,u:E,parent:P,vnode:L}=c,H=M,W;Je(c,!1),M?(M.el=L.el,q(c,M,k)):M=L,T&&ts(T),(W=M.props&&M.props.onVnodeBeforeUpdate)&&Te(W,P,M,L),Je(c,!0);const K=As(c),ye=c.subTree;c.subTree=K,F(ye,K,I(ye.el),Yt(ye),c,m,b),M.el=K.el,H===null&&Cr(c,K.el),E&&fe(E,m),(W=M.props&&M.props.onVnodeUpdated)&&fe(()=>Te(W,P,M,L),m)}else{let M;const{el:T,props:E}=u,{bm:P,m:L,parent:H}=c,W=is(u);if(Je(c,!1),P&&ts(P),!W&&(M=E&&E.onVnodeBeforeMount)&&Te(M,H,u),Je(c,!0),T&&Ds){const K=()=>{c.subTree=As(c),Ds(T,c.subTree,c,m,null)};W?u.type.__asyncLoader().then(()=>!c.isUnmounted&&K()):K()}else{const K=c.subTree=As(c);F(null,K,g,_,c,m,b),u.el=K.el}if(L&&fe(L,m),!W&&(M=E&&E.onVnodeMounted)){const K=u;fe(()=>Te(M,H,K),m)}(u.shapeFlag&256||H&&is(H.vnode)&&H.vnode.shapeFlag&256)&&c.a&&fe(c.a,m),c.isMounted=!0,u=g=_=null}},C=c.effect=new li(v,()=>Ln(y),c.scope),y=c.update=()=>C.run();y.id=c.uid,Je(c,!0),y()},q=(c,u,g)=>{u.component=c;const _=c.vnode.props;c.vnode=u,c.next=null,Jr(c,u.props,_,g),Qr(c,u.children,g),bt(),vs(void 0,c.update),Ct()},xe=(c,u,g,_,m,b,k,v,C=!1)=>{const y=c&&c.children,M=c?c.shapeFlag:0,T=u.children,{patchFlag:E,shapeFlag:P}=u;if(E>0){if(E&128){kt(y,T,g,_,m,b,k,v,C);return}else if(E&256){Ps(y,T,g,_,m,b,k,v,C);return}}P&8?(M&16&&De(y,m,b),T!==y&&p(g,T)):M&16?P&16?kt(y,T,g,_,m,b,k,v,C):De(y,m,b,!0):(M&8&&p(g,""),P&16&&qe(T,g,_,m,b,k,v,C))},Ps=(c,u,g,_,m,b,k,v,C)=>{c=c||gt,u=u||gt;const y=c.length,M=u.length,T=Math.min(y,M);let E;for(E=0;E<T;E++){const P=u[E]=C?ze(u[E]):Ee(u[E]);F(c[E],P,g,null,m,b,k,v,C)}y>M?De(c,m,b,!0,!1,T):qe(u,g,_,m,b,k,v,C,T)},kt=(c,u,g,_,m,b,k,v,C)=>{let y=0;const M=u.length;let T=c.length-1,E=M-1;for(;y<=T&&y<=E;){const P=c[y],L=u[y]=C?ze(u[y]):Ee(u[y]);if(St(P,L))F(P,L,g,null,m,b,k,v,C);else break;y++}for(;y<=T&&y<=E;){const P=c[T],L=u[E]=C?ze(u[E]):Ee(u[E]);if(St(P,L))F(P,L,g,null,m,b,k,v,C);else break;T--,E--}if(y>T){if(y<=E){const P=E+1,L=P<M?u[P].el:_;for(;y<=E;)F(null,u[y]=C?ze(u[y]):Ee(u[y]),g,L,m,b,k,v,C),y++}}else if(y>E)for(;y<=T;)Ne(c[y],m,b,!0),y++;else{const P=y,L=y,H=new Map;for(y=L;y<=E;y++){const ge=u[y]=C?ze(u[y]):Ee(u[y]);ge.key!=null&&H.set(ge.key,y)}let W,K=0;const ye=E-L+1;let ut=!1,Ii=0;const Tt=new Array(ye);for(y=0;y<ye;y++)Tt[y]=0;for(y=P;y<=T;y++){const ge=c[y];if(K>=ye){Ne(ge,m,b,!0);continue}let ke;if(ge.key!=null)ke=H.get(ge.key);else for(W=L;W<=E;W++)if(Tt[W-L]===0&&St(ge,u[W])){ke=W;break}ke===void 0?Ne(ge,m,b,!0):(Tt[ke-L]=y+1,ke>=Ii?Ii=ke:ut=!0,F(ge,u[ke],g,null,m,b,k,v,C),K++)}const ki=ut?tl(Tt):gt;for(W=ki.length-1,y=ye-1;y>=0;y--){const ge=L+y,ke=u[ge],Ti=ge+1<M?u[ge+1].el:_;Tt[y]===0?F(null,ke,g,Ti,m,b,k,v,C):ut&&(W<0||y!==ki[W]?at(ke,g,Ti,2):W--)}}},at=(c,u,g,_,m=null)=>{const{el:b,type:k,transition:v,children:C,shapeFlag:y}=c;if(y&6){at(c.component.subTree,u,g,_);return}if(y&128){c.suspense.move(u,g,_);return}if(y&64){k.move(c,u,g,ct);return}if(k===J){i(b,u,g);for(let T=0;T<C.length;T++)at(C[T],u,g,_);i(c.anchor,u,g);return}if(k===ns){ae(c,u,g);return}if(_!==2&&y&1&&v)if(_===0)v.beforeEnter(b),i(b,u,g),fe(()=>v.enter(b),m);else{const{leave:T,delayLeave:E,afterLeave:P}=v,L=()=>i(b,u,g),H=()=>{T(b,()=>{L(),P&&P()})};E?E(b,L,H):H()}else i(b,u,g)},Ne=(c,u,g,_=!1,m=!1)=>{const{type:b,props:k,ref:v,children:C,dynamicChildren:y,shapeFlag:M,patchFlag:T,dirs:E}=c;if(v!=null&&Zs(v,null,g,c,!0),M&256){u.ctx.deactivate(c);return}const P=M&1&&E,L=!is(c);let H;if(L&&(H=k&&k.onVnodeBeforeUnmount)&&Te(H,u,c),M&6)yo(c.component,g,_);else{if(M&128){c.suspense.unmount(g,_);return}P&&Ke(c,null,u,"beforeUnmount"),M&64?c.type.remove(c,u,g,m,ct,_):y&&(b!==J||T>0&&T&64)?De(y,u,g,!1,!0):(b===J&&T&384||!m&&M&16)&&De(C,u,g),_&&Ci(c)}(L&&(H=k&&k.onVnodeUnmounted)||P)&&fe(()=>{H&&Te(H,u,c),P&&Ke(c,null,u,"unmounted")},g)},Ci=c=>{const{type:u,el:g,anchor:_,transition:m}=c;if(u===J){_o(g,_);return}if(u===ns){rt(c);return}const b=()=>{n(g),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(c.shapeFlag&1&&m&&!m.persisted){const{leave:k,delayLeave:v}=m,C=()=>k(g,b);v?v(c.el,b,C):C()}else b()},_o=(c,u)=>{let g;for(;c!==u;)g=f(c),n(c),c=g;n(u)},yo=(c,u,g)=>{const{bum:_,scope:m,update:b,subTree:k,um:v}=c;_&&ts(_),m.stop(),b&&(b.active=!1,Ne(k,c,u,g)),v&&fe(v,u),fe(()=>{c.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},De=(c,u,g,_=!1,m=!1,b=0)=>{for(let k=b;k<c.length;k++)Ne(c[k],u,g,_,m)},Yt=c=>c.shapeFlag&6?Yt(c.component.subTree):c.shapeFlag&128?c.suspense.next():f(c.anchor||c.el),$i=(c,u,g)=>{c==null?u._vnode&&Ne(u._vnode,null,null,!0):F(u._vnode||null,c,u,null,null,null,g),Un(),u._vnode=c},ct={p:F,um:Ne,m:at,r:Ci,mt:Es,mc:qe,pc:xe,pbc:lt,n:Yt,o:e};let xs,Ds;return t&&([xs,Ds]=t(ct)),{render:$i,hydrate:xs,createApp:Xr($i,xs)}}function Je({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function no(e,t,s=!1){const i=e.children,n=t.children;if(x(i)&&x(n))for(let o=0;o<i.length;o++){const r=i[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=ze(n[o]),l.el=r.el),s||no(r,l))}}function tl(e){const t=e.slice(),s=[0];let i,n,o,r,l;const a=e.length;for(i=0;i<a;i++){const h=e[i];if(h!==0){if(n=s[s.length-1],e[n]<h){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)l=o+r>>1,e[s[l]]<h?o=l+1:r=l;h<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}const sl=e=>e.__isTeleport,J=Symbol(void 0),_i=Symbol(void 0),st=Symbol(void 0),ns=Symbol(void 0),Rt=[];let be=null;function w(e=!1){Rt.push(be=e?null:[])}function il(){Rt.pop(),be=Rt[Rt.length-1]||null}let Ht=1;function qi(e){Ht+=e}function oo(e){return e.dynamicChildren=Ht>0?be||gt:null,il(),Ht>0&&be&&be.push(e),e}function $(e,t,s,i,n,o){return oo(d(e,t,s,i,n,o,!0))}function re(e,t,s,i,n){return oo(X(e,t,s,i,n,!0))}function nl(e){return e?e.__v_isVNode===!0:!1}function St(e,t){return e.type===t.type&&e.key===t.key}const $s="__vInternal",ro=({key:e})=>e!=null?e:null,os=({ref:e,ref_key:t,ref_for:s})=>e!=null?te(e)||oe(e)||D(e)?{i:ve,r:e,k:t,f:!!s}:e:null;function d(e,t=null,s=null,i=0,n=null,o=e===J?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ro(t),ref:t&&os(t),scopeId:Wn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null};return l?(yi(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=te(s)?8:16),Ht>0&&!r&&be&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&be.push(a),a}const X=ol;function ol(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Nr)&&(e=st),nl(e)){const l=yt(e,t,!0);return s&&yi(l,s),Ht>0&&!o&&be&&(l.shapeFlag&6?be[be.indexOf(e)]=l:be.push(l)),l.patchFlag|=-2,l}if(_l(e)&&(e=e.__vccOpts),t){t=rl(t);let{class:l,style:a}=t;l&&!te(l)&&(t.class=G(l)),se(a)&&(xn(a)&&!x(a)&&(a=ue({},a)),t.style=ee(a))}const r=te(e)?1:$r(e)?128:sl(e)?64:se(e)?4:D(e)?2:0;return d(e,t,s,i,n,r,o,!0)}function rl(e){return e?xn(e)||$s in e?ue({},e):e:null}function yt(e,t,s=!1){const{props:i,ref:n,patchFlag:o,children:r}=e,l=t?al(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ro(l),ref:t&&t.ref?s&&n?x(n)?n.concat(os(t)):[n,os(t)]:os(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yt(e.ssContent),ssFallback:e.ssFallback&&yt(e.ssFallback),el:e.el,anchor:e.anchor}}function Ft(e=" ",t=0){return X(_i,null,e,t)}function ll(e,t){const s=X(ns,null,e);return s.staticCount=t,s}function N(e="",t=!1){return t?(w(),re(st,null,e)):X(st,null,e)}function Ee(e){return e==null||typeof e=="boolean"?X(st):x(e)?X(J,null,e.slice()):typeof e=="object"?ze(e):X(_i,null,String(e))}function ze(e){return e.el===null||e.memo?e:yt(e)}function yi(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(x(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),yi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!($s in t)?t._ctx=ve:n===3&&ve&&(ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:ve},s=32):(t=String(t),i&64?(s=16,t=[Ft(t)]):s=8);e.children=t,e.shapeFlag|=s}function al(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=G([t.class,i.class]));else if(n==="style")t.style=ee([t.style,i.style]);else if(gs(n)){const o=t[n],r=i[n];r&&o!==r&&!(x(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function Te(e,t,s,i=null){$e(e,t,7,[s,i])}const cl=io();let ul=0;function dl(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||cl,o={uid:ul++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Do(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gn(i,n),emitsOptions:Hn(i,n),emit:null,emitted:null,propsDefaults:V,inheritAttrs:i.inheritAttrs,ctx:V,data:V,props:V,attrs:V,slots:V,refs:V,setupState:V,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=_r.bind(null,o),e.ce&&e.ce(o),o}let ne=null;const wt=e=>{ne=e,e.scope.on()},et=()=>{ne&&ne.scope.off(),ne=null};function lo(e){return e.vnode.shapeFlag&4}let Wt=!1;function fl(e,t=!1){Wt=t;const{props:s,children:i}=e.vnode,n=lo(e);Kr(e,s,n,t),jr(e,i);const o=n?hl(e,t):void 0;return Wt=!1,o}function hl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Dn(new Proxy(e.ctx,Ur));const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?pl(e):null;wt(e),bt();const o=We(i,e,0,[e.props,n]);if(Ct(),et(),_n(o)){if(o.then(et,et),t)return o.then(r=>{Ki(e,r,t)}).catch(r=>{ws(r,e,0)});e.asyncDep=o}else Ki(e,o,t)}else ao(e,t)}function Ki(e,t,s){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=Rn(t)),ao(e,s)}let Ji;function ao(e,t,s){const i=e.type;if(!e.render){if(!t&&Ji&&!i.render){const n=i.template;if(n){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:a}=i,h=ue(ue({isCustomElement:o,delimiters:l},r),a);i.render=Ji(n,h)}}e.render=i.render||Ce}wt(e),bt(),zr(e),Ct(),et()}function gl(e){return new Proxy(e.attrs,{get(t,s){return me(e,"get","$attrs"),t[s]}})}function pl(e){const t=i=>{e.exposed=i||{}};let s;return{get attrs(){return s||(s=gl(e))},slots:e.slots,emit:e.emit,expose:t}}function Is(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Rn(Dn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in us)return us[s](e)}}))}function ml(e){return D(e)&&e.displayName||e.name}function _l(e){return D(e)&&"__vccOpts"in e}const wi=(e,t)=>ur(e,t,Wt),yl="3.2.36",wl="http://www.w3.org/2000/svg",Ze=typeof document!="undefined"?document:null,Yi=Ze&&Ze.createElement("template"),vl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t?Ze.createElementNS(wl,e):Ze.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Yi.innerHTML=i?`<svg>${e}</svg>`:e;const l=Yi.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function bl(e,t,s){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function Cl(e,t,s){const i=e.style,n=te(s);if(s&&!n){for(const o in s)Xs(i,o,s[o]);if(t&&!te(t))for(const o in t)s[o]==null&&Xs(i,o,"")}else{const o=i.display;n?t!==s&&(i.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}const ji=/\s*!important$/;function Xs(e,t,s){if(x(s))s.forEach(i=>Xs(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=$l(e,t);ji.test(s)?e.setProperty(vt(i),s.replace(ji,""),"important"):e[i]=s}}const Qi=["Webkit","Moz","ms"],Ls={};function $l(e,t){const s=Ls[t];if(s)return s;let i=Pe(t);if(i!=="filter"&&i in e)return Ls[t]=i;i=_s(i);for(let n=0;n<Qi.length;n++){const o=Qi[n]+i;if(o in e)return Ls[t]=o}return t}const Zi="http://www.w3.org/1999/xlink";function Il(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Zi,t.slice(6,t.length)):e.setAttributeNS(Zi,t,s);else{const o=bo(t);s==null||o&&!gn(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function kl(e,t,s,i,n,o,r){if(t==="innerHTML"||t==="textContent"){i&&r(i,n,o),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const a=s==null?"":s;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=gn(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}const[co,Tl]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let Gs=0;const Sl=Promise.resolve(),Ml=()=>{Gs=0},El=()=>Gs||(Sl.then(Ml),Gs=co());function ht(e,t,s,i){e.addEventListener(t,s,i)}function Pl(e,t,s,i){e.removeEventListener(t,s,i)}function xl(e,t,s,i,n=null){const o=e._vei||(e._vei={}),r=o[t];if(i&&r)r.value=i;else{const[l,a]=Dl(t);if(i){const h=o[t]=Ol(i,n);ht(e,l,h,a)}else r&&(Pl(e,l,r,a),o[t]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function Dl(e){let t;if(Xi.test(e)){t={};let s;for(;s=e.match(Xi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[vt(e.slice(2)),t]}function Ol(e,t){const s=i=>{const n=i.timeStamp||co();(Tl||n>=s.attached-1)&&$e(Al(i,s.value),t,5,[i])};return s.value=e,s.attached=El(),s}function Al(e,t){if(x(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Gi=/^on[a-z]/,Rl=(e,t,s,i,n=!1,o,r,l,a)=>{t==="class"?bl(e,i,n):t==="style"?Cl(e,s,i):gs(t)?si(t)||xl(e,t,s,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fl(e,t,i,n))?kl(e,t,i,o,r,l,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Il(e,t,i,n))};function Fl(e,t,s,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Gi.test(t)&&D(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Gi.test(t)&&te(s)?!1:t in e}const en=e=>{const t=e.props["onUpdate:modelValue"]||!1;return x(t)?s=>ts(t,s):t};function Ll(e){e.target.composing=!0}function tn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ns={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e._assign=en(n);const o=i||n.props&&n.props.type==="number";ht(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=Bs(l)),e._assign(l)}),s&&ht(e,"change",()=>{e.value=e.value.trim()}),t||(ht(e,"compositionstart",Ll),ht(e,"compositionend",tn),ht(e,"change",tn))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:i,number:n}},o){if(e._assign=en(o),e.composing||document.activeElement===e&&e.type!=="range"&&(s||i&&e.value.trim()===t||(n||e.type==="number")&&Bs(e.value)===t))return;const r=t==null?"":t;e.value!==r&&(e.value=r)}},Nl=["ctrl","shift","alt","meta"],Bl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Nl.some(s=>e[`${s}Key`]&&!t.includes(s))},sn=(e,t)=>(s,...i)=>{for(let n=0;n<t.length;n++){const o=Bl[t[n]];if(o&&o(s,t))return}return e(s,...i)},Ul=ue({patchProp:Rl},vl);let nn;function zl(){return nn||(nn=Gr(Ul))}const Hl=(...e)=>{const t=zl().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Wl(i);if(!n)return;const o=t._component;!D(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Wl(e){return te(e)?document.querySelector(e):e}const Vl=1,it=1e3*Vl,Vt=60*it,qt=60*Vt,fs=24*qt;let xt=[];const ql=e=>{switch(e){case"error":xt=["error"];break;case"warn":xt=["error","warn"];break;case"info":xt=["error","warn","info"];break;case"debug":xt=["error","warn","info","debug"];break}};ql("info");const nt=(e,...t)=>{const s=e,i=n=>(...o)=>{xt.includes(n)&&console[n](Jl("hh:mm:ss",new Date),`[${s}]`,...t,...o)};return{error:i("error"),warn:i("warn"),info:i("info"),debug:i("debug")}},Kl=e=>[...e].length,Jl=(e,t)=>e.replace(/(hh|mm|ss)/g,(s,i)=>{switch(i){case"hh":return Lt(t.getHours(),"00");case"mm":return Lt(t.getMinutes(),"00");case"ss":return Lt(t.getSeconds(),"00");default:return s}}),Lt=(e,t)=>{const s=`${e}`;return s.length>=t.length?s:t.substr(0,t.length-s.length)+s};function uo(e){let t="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}const fo=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const s=`${e}`.trim();if(!s)throw new Error("unable to parse duration");const i=f=>{if(f<0&&!t)throw new Error("negative value not allowed");return f};if(s.match(/^-?\d+$/))return i(parseInt(s,10));const n=s.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(n){const f=parseFloat(n[1]);if(isNaN(f))throw new Error("unable to parse duration");const S=n[2];let A=0;return S==="d"?A=f*fs:S==="h"?A=f*qt:S==="m"?A=f*Vt:S==="s"&&(A=f*it),i(Math.round(A))}const o=s.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!o)throw new Error("unable to parse duration");const r=o[1]?-1:1,l=o[2]?parseInt(o[2],10):0,a=o[3]?parseInt(o[3],10):0,h=o[4]?parseInt(o[4],10):0,p=o[5]?parseInt(o[5],10):0,I=o[6]?parseInt(o[6],10):0;return i(r*(p*it+h*Vt+a*qt+l*fs+I))},Yl=(e,t=!1)=>{try{return fo(e,t)}catch{return 0}},jl=(e,t=["ms","s","m","h","d"])=>{let s=e;const i=Math.floor(s/fs);s=s%fs;const n=Math.floor(s/qt);s=s%qt;const o=Math.floor(s/Vt);s=s%Vt;const r=Math.floor(s/it);s=s%it;const a=[s,r,o,n,i];let h=0;for(;h<a.length&&a[h]===0;)h++;let p=a.length-1;for(;p>=0&&a[p]===0;)p--;const I=[];for(let f=h;f<=p;f++)I.unshift(`${a[f]}${t[f]}`);return I.join(" ")};function Ql(e,t,s){if(s>=e.length){let i=s-e.length+1;for(;i--;)e.push(void 0)}return e.splice(s,0,e.splice(t,1)[0]),e}const Zl=(e,t,s)=>{if(t===s||t<0||t>e.length-1||s<0||s>e.length-1)return!1;const i=e[t];return e[t]=e[s],e[s]=i,!0},Xl=(e,t)=>{const s=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let i=e,n;do{n=i;for(const o of s)i=i.replace(o,t)}while(n!==i);return i},Gl=(e,t=",",s=-1)=>{const i=e.split(t);return s===-1||i.length<=s?i:[...i.slice(0,s-1),i.slice(s-1).join(t)]},ea=e=>{let t=e.length;for(;t>0;){const s=Math.floor(Math.random()*t);t--;const i=e[t];e[t]=e[s],e[s]=i}return e};function ta(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function sa(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const ia=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},ei=(e,t="pt")=>{const s=`${e}`;return s.match(/^\d+$/)?`${s}${t}`:s},O=(e,t,s)=>{let i=e;for(const n of t){if(typeof i!="object"||i===null||!Object.keys(i).includes(n))return s;i=i[n]}return i},ho=(e,t,s)=>Math.max(e,Math.min(s,t));var _t={arrayMove:Ql,arraySwap:Zl,clamp:ho,doDummyReplacements:Xl,humanDuration:jl,mediaFileFromUploadedFile:ta,mustParseHumanDuration:fo,pad:Lt,parseHumanDuration:Yl,shuffle:ea,soundMediaFileFromUploadedFile:sa,split:Gl,toNumberUnitString:ei,unicodeLength:Kl};const na=1001,Mt=4e3,Oe=nt("WsWrapper.ts");class oa{constructor(t,s){this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{},this.addr=t,this.protocols=s}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=uo(10);this.id=t;const s=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};Oe.info(`trying to connect: ${this.addr}`,t);const i=new WebSocket(this.addr,this.protocols);i.onopen=n=>{if(Oe.info("ws connected",t),t!==this.id){Oe.info("connected but it is not the last attempt",t,this.id),i.close(Mt);return}for(this.handle&&(Oe.error("handle already existed, closing old one and replacing it",t),this.handle.close(Mt)),this.handle=i;this.sendBuffer.length>0;){const o=this.sendBuffer.shift();o&&this.handle.send(o)}this.onopen(n),this.keepAlive()},i.onmessage=n=>{try{const o=JSON.parse(n.data);if(o.type&&o.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(n)},i.onerror=n=>{this.cancelKeepAlive(),Oe.error(n,t)},i.onclose=n=>{this.cancelKeepAlive(),this.handle=null,this.onclose(n),n.code===Mt?Oe.info("custom disconnect, will not reconnect",t):n.code===na?Oe.info("going away, will not reconnect",t):(Oe.info(`connection closed, trying to reconnect. code: ${n.code}`,t),s())}}disconnect(){this.handle&&(Oe.info(`handle existed, closing with code: ${Mt}`),this.handle.close(Mt))}}const on=nt("WsClient.ts");class ra extends oa{constructor(t,s){super(t,s),this._on={},this.onopen=i=>{this._dispatch("socket","open",i)},this.onmessage=i=>{if(this._dispatch("socket","message",i),this._on.message){const n=this._parseMessageData(i.data);n.event&&this._dispatch("message",`${n.event}`,n.data,n)}},this.onclose=i=>{this._dispatch("socket","close",i)}}onSocket(t,s){this.addEventListener("socket",t,s)}onMessage(t,s){this.addEventListener("message",t,s)}addEventListener(t,s,i){const n=Array.isArray(s)?s:[s];this._on[t]=this._on[t]||{};for(const o of n)this._on[t][o]=this._on[t][o]||[],this._on[t][o].push(i)}_parseMessageData(t){try{const s=JSON.parse(t);if(s.event)return s.data=s.data||null,s}catch(s){on.info(s)}return{event:null,data:null}}_dispatch(t,s,...i){const o=(this._on[t]||{})[s]||[];if(o.length!==0){on.info(`ws dispatch ${t} ${s}`);for(const r of o)r(...i)}}}const vi=(e,t)=>`${window[e]!==`{{${e}}}`?window[e]:t}`,go=e=>`${{VITE_WS_URL:"",VITE_ENV:"",VITE_WIDGET_TOKEN:"",BASE_URL:"/static/widgets/",MODE:"production",DEV:!1,PROD:!0}[e]}`,po=e=>new URLSearchParams(window.location.search).get(e)||"",la=vi("wsUrl",go("VITE_WS_URL")),aa=vi("widget",po("widget")),ca=vi("widgetToken",go("VITE_WIDGET_TOKEN"));var Ie={widget:()=>aa,wsClient:e=>new ra(la+"/widget_"+e,ca),getParam:po};const ua="modulepreload",rn={},da="/static/widgets/",ot=function(t,s){return!s||s.length===0?t():Promise.all(s.map(i=>{if(i=`${da}${i}`,i in rn)return;rn[i]=!0;const n=i.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":ua,n||(r.as="script",r.crossOrigin=""),r.href=i,document.head.appendChild(r),n)return new Promise((l,a)=>{r.addEventListener("load",l),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},fa=["src","width","height"],ha=Z({name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,s=Ri(null),i=Ri(-1),n=wi(()=>i.value>=0&&i.value<t.frames.length?t.frames[i.value].url:""),o=()=>{if(t.frames.length===0){i.value=-1;return}s.value&&(clearTimeout(s.value),s.value=null),i.value++,i.value>=t.frames.length&&(i.value=0),s.value=setTimeout(()=>{o()},t.frames[i.value].duration)};return Yn(()=>{o(),ss(()=>t.frames,()=>{i.value=-1,o()},{deep:!0})}),pi(()=>{s.value&&(clearTimeout(s.value),s.value=null)}),(r,l)=>(w(),$("span",{class:"avatar-animation",style:ee({width:`${e.width}px`,height:`${e.width}px`})},[ls(n)?(w(),$("img",{key:0,src:ls(n),width:e.width,height:e.height},null,8,fa)):(w(),$("span",{key:1,style:ee({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}});class ga{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);let n,o=0,r=0;for(n=0;n<i.length;++n)o+=i[n]*i[n],Math.abs(i[n])>.99&&(r+=1);this.instant=Math.sqrt(o/i.length),this.slow=.95*this.slow+.05*this.instant,this.clip=r/i.length}}connectToSource(t,s){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof s!="undefined"&&s(null)}catch(i){console.error(i),typeof s!="undefined"&&s(i)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const pa=(e=null)=>({name:O(e,["name"],""),width:O(e,["width"],64),height:O(e,["height"],64),stateDefinitions:O(e,["stateDefinitions"],[]),slotDefinitions:O(e,["slotDefinitions"],[]),state:O(e,["state"],{slots:{},lockedState:""})}),ma=(e=null)=>({styles:{bgColor:O(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:O(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:O(e,["avatarDefinitions"],[]).map(pa)});var ie=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s};const Ye=nt("Page.vue"),Dt="default",_a="speaking",ln={state:Dt,frames:[]},an=.05,ya=Z({components:{AvatarAnimation:ha},props:{controls:{type:Boolean,required:!0},widget:{type:String,required:!0}},data(){return{ws:null,speaking:!1,initialized:!1,audioInitialized:!1,tuberIdx:-1,avatarFixed:"",settings:ma(),showControls:!0}},computed:{tuberDef(){return this.tuberIdx<0||this.tuberIdx>=this.settings.avatarDefinitions.length?null:this.settings.avatarDefinitions[this.tuberIdx]},slots(){const e=this.tuberDef;return e?e.state.slots:{}},lockedState(){var e;return((e=this.tuberDef)==null?void 0:e.state.lockedState)||Dt},animationName(){return this.lockedState!==Dt?this.lockedState:this.speaking?_a:Dt},animations(){return this.tuberDef?this.tuberDef.slotDefinitions.map(this.getSlotStateDefinition):[]}},methods:{getSlotStateDefinition(e){const t=this.getItem(e);if(!t)return ln;const s=t.states.find(({state:i})=>i===this.animationName);return s&&s.frames.length>0?s:t.states.find(({state:i})=>i===Dt)||ln},getItem(e){if(e.items.length===0)return null;let t=this.slots[e.slot];return typeof t=="undefined"&&(t=e.defaultItemIndex),(t<0||t>=e.items.length)&&(t=0),e.items[t]},ctrl(e,t){if(!this.ws){Ye.error("ctrl: this.ws not initialized");return}this.ws.send(JSON.stringify({event:"ctrl",data:{ctrl:e,args:t}}))},setSlot(e,t,s=!1){this.slots[e]!==t&&(this.settings.avatarDefinitions[this.tuberIdx].state.slots[e]=t,s&&this.ctrl("setSlot",[this.tuberIdx,e,t]))},setSpeaking(e,t=!1){this.speaking!==e&&(this.speaking=e,t&&this.ctrl("setSpeaking",[this.tuberIdx,e]))},lockState(e,t=!1){this.lockedState!==e&&(this.settings.avatarDefinitions[this.tuberIdx].state.lockedState=e,t&&this.ctrl("lockState",[this.tuberIdx,e]))},setTuber(e,t=!1){if(!this.settings){Ye.error("setTuber: this.settings not initialized");return}if(this.avatarFixed&&(e=this.settings.avatarDefinitions.findIndex(o=>o.name===this.avatarFixed)),e>=this.settings.avatarDefinitions.length&&(Ye.info("setTuber: index out of bounds. using index 0"),e=0),e<0||e>=this.settings.avatarDefinitions.length){Ye.error("setTuber: index out of bounds");return}const s=this.settings.avatarDefinitions[e],i=JSON.stringify(s),n=JSON.stringify(this.tuberDef);i!==n&&(this.tuberIdx=e,t&&this.ctrl("setTuber",[this.tuberIdx]))},startMic(){if(this.audioInitialized)return;if(this.audioInitialized=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const e=window.AudioContext||window.webkitAudioContext,t=new e;navigator.mediaDevices.getUserMedia({audio:!0}).then(s=>{const i=new ga(t);i.connectToSource(s,n=>{if(n){Ye.error(n);return}setInterval(()=>{const o=this.speaking?an/2:an;this.setSpeaking(i.instant>o,!0)},100)})}).catch(s=>{Ye.error(s),alert("Error capturing audio.")})},applyStyles(){if(!this.settings){Ye.error("applyStyles: this.settings not initialized");return}const e=this.settings.styles;e.bgColorEnabled&&e.bgColor!=null?document.body.style.backgroundColor=e.bgColor:document.body.style.backgroundColor=""}},created(){ot(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]),this.avatarFixed=Ie.getParam("avatar")},mounted(){this.ws=Ie.wsClient(this.widget),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles()});let t=e.state.tuberIdx;this.avatarFixed&&(t=this.settings.avatarDefinitions.findIndex(s=>s.name===this.avatarFixed)),this.setTuber(t===-1?0:t),this.initialized=!0}),this.ws.onMessage("ctrl",({data:e})=>{if(e.ctrl==="setSlot"){const t=e.args[0];if(this.tuberIdx===t){const s=e.args[1],i=e.args[2];this.setSlot(s,i)}}else if(e.ctrl==="setSpeaking"){const t=e.args[0];if(this.tuberIdx===t){const s=e.args[1];this.setSpeaking(s)}}else if(e.ctrl==="lockState"){const t=e.args[0];if(this.tuberIdx===t){const s=e.args[1];this.lockState(s)}}else if(e.ctrl==="setTuber"){const t=e.args[0];this.setTuber(t)}}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}}),wa={key:0,class:"base"},va={key:0},ba={key:0},Ca=d("td",null,"Tubers:",-1),$a=["onClick"],Ia={key:1},ka=d("td",{colspan:"2"},[d("hr")],-1),Ta=[ka],Sa=d("td",null,"Start Mic",-1),Ma=d("tr",null,[d("td",{colspan:"2"},[d("hr")])],-1),Ea=["onClick"],Pa=d("td",null,"State:",-1),xa=["onClick"],Da={key:1,class:"toggle-controls"};function Oa(e,t,s,i,n,o){const r=Q("avatar-animation");return e.initialized?(w(),$("div",wa,[d("div",{class:"avatar",style:ee({width:`${e.tuberDef.width}px`,height:`${e.tuberDef.height}px`})},[(w(!0),$(J,null,he(e.animations,(l,a)=>(w(),re(r,{key:a,frames:l.frames,width:e.tuberDef.width,height:e.tuberDef.height},null,8,["frames","width","height"]))),128))],4),e.controls&&e.showControls?(w(),$("table",va,[e.avatarFixed?N("",!0):(w(),$("tr",ba,[Ca,d("td",null,[(w(!0),$(J,null,he(e.settings.avatarDefinitions,(l,a)=>(w(),$("button",{key:a,onClick:h=>e.setTuber(a,!0),class:G({active:e.tuberIdx===a})},z(l.name),11,$a))),128))])])),e.avatarFixed?N("",!0):(w(),$("tr",Ia,Ta)),d("tr",null,[Sa,d("td",null,[d("button",{onClick:t[0]||(t[0]=(...l)=>e.startMic&&e.startMic(...l))},"Start")])]),Ma,(w(!0),$(J,null,he(e.tuberDef.slotDefinitions,(l,a)=>(w(),$("tr",{key:a},[d("td",null,z(l.slot)+":",1),d("td",null,[(w(!0),$(J,null,he(l.items,(h,p)=>(w(),$("button",{key:p,onClick:I=>e.setSlot(l.slot,p,!0),class:G({active:e.slots[l.slot]===p})},z(h.title),11,Ea))),128))])]))),128)),d("tr",null,[Pa,d("td",null,[(w(!0),$(J,null,he(e.tuberDef.stateDefinitions,(l,a)=>(w(),$("button",{key:a,onClick:h=>e.lockState(l.value,!0),class:G({active:e.lockedState===l.value})},z(l.value),11,xa))),128))])])])):N("",!0),e.controls?(w(),$("div",Da,[d("button",{onClick:t[1]||(t[1]=l=>e.showControls=!e.showControls)},"Toggle controls")])):N("",!0)])):N("",!0)}var Aa=ie(ya,[["render",Oa]]);const Ra=Z({}),Fa={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},La=d("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),Na=[La];function Ba(e,t,s,i,n,o){return w(),$("svg",Fa,Na)}var Ua=ie(Ra,[["render",Ba]]);const za=Z({}),Ha={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Wa=d("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),Va=[Wa];function qa(e,t,s,i,n,o){return w(),$("svg",Ha,Va)}var Ka=ie(za,[["render",qa]]);const Ja=Z({}),Ya={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ja=d("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),Qa=[ja];function Za(e,t,s,i,n,o){return w(),$("svg",Ya,Qa)}var Xa=ie(Ja,[["render",Za]]);const Ga=Z({}),ec={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tc=d("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),sc=[tc];function ic(e,t,s,i,n,o){return w(),$("svg",ec,sc)}var nc=ie(Ga,[["render",ic]]);const oc=Z({}),rc={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lc=d("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),ac=[lc];function cc(e,t,s,i,n,o){return w(),$("svg",rc,ac)}var uc=ie(oc,[["render",cc]]);const dc=Z({}),fc={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hc=d("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),gc=[hc];function pc(e,t,s,i,n,o){return w(),$("svg",fc,gc)}var mc=ie(dc,[["render",pc]]);const cn=nt("Page.vue"),un=(e,t)=>{const s=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-s.x,y:t.targetTouches[0].clientY-s.y}},dn=(e,t)=>{const s=e.getBoundingClientRect();return{x:t.clientX-s.x,y:t.clientY-s.y}},_c=e=>{const t=e.replace("#",""),s=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16);return(s*299+i*587+n*114)/1e3>69},yc=(e,t,s)=>{if(e==="color-sampler")return"crosshair";const i=document.createElement("canvas"),n=i.getContext("2d"),o=10,r=3,l=t+o+r+o+r,a=Math.round(l/2);return i.width=l+1,i.height=l+1,n.fillStyle="#AAA",n.fillRect(0,a-1,o,3),n.fillRect(i.width-o,a-1,o,3),n.fillRect(a-1,0,3,o),n.fillRect(a-1,i.height-o,3,o),n.fillStyle="#666",n.fillRect(1,a,o-2,1),n.fillRect(i.width-o+1,a,o-2,1),n.fillRect(a,1,1,o-2),n.fillRect(a,i.height-o+1,1,o-2),n.beginPath(),n.translate(.5,.5),n.fillStyle=s,n.strokeStyle=_c(String(n.fillStyle))?"#000":"#fff",n.arc(a,a,t/2,0,2*Math.PI),n.translate(-.5,-.5),n.closePath(),e!=="eraser"&&n.fill(),n.stroke(),`url(${i.toDataURL()}) ${a} ${a}, default`},fn=(e,t,s,i)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=s,e.arc(t[0].x,t[0].y,i/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=s,e.lineWidth=i,e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},wc=Z({components:{IconPen:Ua,IconEyedropper:Ka,IconSend:Xa,IconUndo:nc,IconEraser:uc,IconClear:mc},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},styles(){return{cursor:this.cursor}},cursor(){return yc(this.tool,this.size,this.color)}},methods:{updateTransparency(){this.draftcanvas.style.opacity=`${this.transparency/100}`},opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(async s=>{t.src=e,t.onload=async i=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData())}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",fn(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",fn(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(un(this.draftcanvas,e))},mousedown(e){this.startDraw(dn(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(un(this.draftcanvas,e))},mousemove(e){this.continueDraw(dn(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){cn.error("submitImage: this.ws not set");return}if(this.sending.nonce){cn.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=uo(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,s,i,n]=this.finalctx.getImageData(e.x,e.y,1,1).data,o=r=>Lt(r.toString(16),"00");return n?`#${o(t)}${o(s)}${o(i)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}},created(){ot(()=>Promise.resolve({}),["assets/main.57beba03.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=Ie.wsClient("drawcast_draw");const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(s=>s.path),this.images.length>0&&t.settings.autofillLatest&&this.modify(this.images[0])}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const i=new Date,n=this.sending.date.getTime()+500-i.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,n))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const i=new Date,n=this.sending.date.getTime()+500-i.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,n))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)}}),vc={id:"drawcast"},bc={class:"streamer_message"},Cc={class:"streamer_message_inner"},$c={class:"draw_panel"},Ic={class:"draw_panel_inner"},kc={class:"draw_panel_top"},Tc={class:"draw_canvas_holder"},Sc=["width","height"],Mc=["width","height"],Ec={class:"v355_1274"},Pc={class:"card draw_tools_panel"},xc={class:"draw_tools_tool_buttons"},Dc={class:"slider"},Oc=d("div",{class:"bubble bubble-left"},[d("div",{class:"bubble-small bubble-dark"})],-1),Ac={class:"slider-input-holder"},Rc=["max"],Fc=d("div",{class:"bubble bubble-right"},[d("div",{class:"bubble-big bubble-dark"})],-1),Lc={class:"slider"},Nc=d("div",{class:"bubble bubble-left"},[d("div",{class:"bubble-big bubble-light"})],-1),Bc={class:"slider-input-holder"},Uc=["max"],zc=d("div",{class:"bubble bubble-right"},[d("div",{class:"bubble-big bubble-dark"})],-1),Hc={class:"visual_background"},Wc=d("div",{class:"visual_background_title"},"Visual Background:",-1),Vc={class:"visual_background_colors"},qc=["onClick"],Kc={class:"hotkey-help"},Jc=d("div",{class:"hotkey-help-title"},"Hotkeys",-1),Yc={class:"hotkey-help-item"},jc={class:"draw_panel_bottom"},Qc={class:"draw_colors"},Zc={class:"draw_colors_current"},Xc={class:"draw_colors_current_label clickable"},Gc={class:"draw_colors_current_icon"},eu={class:"draw_colors_palette"},tu=["onClick"],su=d("div",null,null,-1),iu={class:"drawing_panel_bottom_right"},nu=d("span",{class:"send_button_text"},"\u23F3 Sending...",-1),ou=[nu],ru={class:"send_button_text"},lu={class:"drawings_panel_title"},au={class:"drawings_panel_title_inner"},cu={key:0,class:"drawing_panel_drawings"},uu=["onClick","src"],du={class:"drawings-panel recent-drawings-panel"},fu={class:"drawings_panel_title"},hu={class:"drawings_panel_title_inner"},gu={class:"drawing_panel_drawings"},pu=["onClick","src"],mu=d("div",{class:"dotdotdot"},null,-1),_u=ll('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),yu=[_u],wu={key:0,class:"dialog success-dialog"},vu={class:"dialog-container"},bu={class:"dialog-image"},Cu=d("div",{class:"dialog-title"},"Success!",-1),$u=["innerHTML"],Iu={class:"dialog-footer"},ku={key:1,class:"dialog confirm-dialog"},Tu={class:"dialog-container"},Su=["innerHTML"],Mu={class:"dialog-footer"},Eu={key:2,class:"dialog confirm-dialog"},Pu={class:"dialog-container"},xu=["innerHTML"],Du={class:"dialog-footer"},Ou={key:3,class:"dialog clear-dialog"},Au={class:"dialog-container"},Ru={class:"dialog-image"},Fu=["innerHTML"],Lu={class:"dialog-footer"};function Nu(e,t,s,i,n,o){const r=Q("icon-pen"),l=Q("icon-eraser"),a=Q("icon-eyedropper"),h=Q("icon-undo"),p=Q("icon-clear"),I=Q("icon-send");return w(),$("div",vc,[d("div",{class:G(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(w(),$("div",{key:0,class:G(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(w(),$("div",{key:0,class:"streamer_avatar",style:ee({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):N("",!0),d("div",bc,[d("span",Cc,z(e.customDescription),1)])],2)):N("",!0),d("div",$c,[d("div",Ic,[d("div",kc,[d("div",Tc,[d("div",{class:G(["draw_canvas_holder_inner",e.canvasClasses]),style:ee({width:e.canvasWidth+4,height:e.canvasHeight+4})},[d("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:ee(e.styles)},null,12,Sc),d("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:ee(e.styles),onTouchstart:t[0]||(t[0]=sn((...f)=>e.touchstart&&e.touchstart(...f),["prevent"])),onTouchmove:t[1]||(t[1]=sn((...f)=>e.touchmove&&e.touchmove(...f),["prevent"])),onMousedown:t[2]||(t[2]=(...f)=>e.mousedown&&e.mousedown(...f))},null,44,Mc)],6)]),d("div",Ec,[d("div",Pc,[d("div",xc,[d("div",{class:G(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=f=>e.tool="pen")},[X(r)],2),d("div",{class:G(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=f=>e.tool="eraser")},[X(l)],2),d("div",{class:G(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=f=>e.tool="color-sampler")},[X(a)],2),d("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...f)=>e.undo&&e.undo(...f))},[X(h)]),d("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...f)=>e.showClearDialog&&e.showClearDialog(...f))},[X(p)])]),d("div",Dc,[Oc,d("div",Ac,[Fs(d("input",{"onUpdate:modelValue":t[8]||(t[8]=f=>e.sizeIdx=f),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,Rc),[[Ns,e.sizeIdx]])]),Fc]),d("div",Lc,[Nc,d("div",Bc,[Fs(d("input",{"onUpdate:modelValue":[t[9]||(t[9]=f=>e.transparencyIdx=f),t[10]||(t[10]=(...f)=>e.updateTransparency&&e.updateTransparency(...f))],type:"range",min:"0",max:e.transparencies.length-1,step:"1"},null,8,Uc),[[Ns,e.transparencyIdx]])]),zc]),d("div",Hc,[Wc,d("div",Vc,[(w(),$(J,null,he(["transparent-light","transparent-dark"],(f,S)=>d("div",{key:S,onClick:A=>e.opt("canvasBg",f),class:G(["visual_background_button clickable",{"is-current":e.canvasBg===f,[`bg-${f}`]:!0}])},null,10,qc)),64))])])]),d("div",Kc,[Jc,(w(!0),$(J,null,he(e.hotkeys,(f,S)=>(w(),$("div",Yc,z(f),1))),256))])])]),d("div",jc,[d("div",Qc,[d("div",Zc,[d("label",Xc,[Fs(d("input",{type:"color","onUpdate:modelValue":t[11]||(t[11]=f=>e.color=f)},null,512),[[Ns,e.color]]),d("span",{class:G(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:ee(e.currentColorStyle)},null,6),d("div",Gc,[X(a)])])]),d("div",eu,[(w(!0),$(J,null,he(e.palette,(f,S)=>(w(),$("div",{class:"palette_color clickable",style:ee({backgroundColor:f}),key:S,onClick:A=>{e.color=f,e.tool="pen"}},null,12,tu))),128))])]),su,d("div",iu,[e.sending.nonce?(w(),$("div",{key:0,class:"button button-primary send_button",onClick:t[12]||(t[12]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},ou)):(w(),$("div",{key:1,class:"button button-primary send_button clickable",onClick:t[13]||(t[13]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},[X(I),d("span",ru,z(e.submitButtonText),1)]))])])])]),(w(!0),$(J,null,he(e.favoriteListsFiltered,(f,S)=>(w(),$("div",{key:S,class:"drawings-panel favorite-drawings-panel"},[d("div",lu,[d("span",au,z(f.title||"Streamer's favorites:"),1)]),e.nonfavorites.length?(w(),$("div",cu,[(w(!0),$(J,null,he(f.list,(A,j)=>(w(),$("img",{class:"image favorite clickable",key:j,onClick:F=>e.prepareModify(A),src:A,height:"190"},null,8,uu))),128))])):N("",!0)]))),128)),d("div",du,[d("div",fu,[d("span",hu,z(e.recentImagesTitle),1)]),d("div",gu,[(w(!0),$(J,null,he(e.nonfavorites,(f,S)=>(w(),$("img",{class:"image clickable",key:S,onClick:A=>e.prepareModify(f),src:f,height:"190"},null,8,pu))),128)),mu])])],2),d("div",{class:G(["drawcast_footer",{blurred:e.dialog}])},yu,2),e.dialog==="success"?(w(),$("div",wu,[d("div",{class:"dialog-bg",onClick:t[14]||(t[14]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),d("div",vu,[d("div",bu,[d("div",{class:"responsive-image",style:ee(e.successImageUrlStyle)},null,4)]),Cu,d("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,$u),d("div",Iu,[d("div",{class:"button button-ok clickable",onClick:t[15]||(t[15]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Draw another one ")])])])):N("",!0),e.dialog==="replace"?(w(),$("div",ku,[d("div",{class:"dialog-bg",onClick:t[16]||(t[16]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),d("div",Tu,[d("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,Su),d("div",Mu,[d("div",{class:"button button-no-button clickable",onClick:t[17]||(t[17]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),d("div",{class:"button button-danger clickable",onClick:t[18]||(t[18]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Replace image ")])])])):N("",!0),e.dialog==="confirm-submit"?(w(),$("div",Eu,[d("div",{class:"dialog-bg",onClick:t[19]||(t[19]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),d("div",Pu,[d("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,xu),d("div",Du,[d("div",{class:"button button-no-button clickable",onClick:t[20]||(t[20]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),d("div",{class:"button button-ok clickable",onClick:t[21]||(t[21]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Send ")])])])):N("",!0),e.dialog==="clear"?(w(),$("div",Ou,[d("div",{class:"dialog-bg",onClick:t[22]||(t[22]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),d("div",Au,[d("div",Ru,[d("div",{class:"responsive-image",style:ee(e.clearImageUrlStyle)},null,4)]),d("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,Fu),d("div",Lu,[d("div",{class:"button button-no-button clickable",onClick:t[23]||(t[23]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),d("div",{class:"button button-danger clickable",onClick:t[24]||(t[24]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Clear ")])])])):N("",!0)])}var Bu=ie(wc,[["render",Nu]]);const ks=async(e,t,s)=>new Promise((i,n)=>{const o=new window.XMLHttpRequest;o.open(e,t,!0),o.withCredentials=!0;const r=s.headers||{};for(const l in r)o.setRequestHeader(l,r[l]);o.addEventListener("load",function(l){i({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),o.addEventListener("error",function(l){n(new Error("xhr error"))}),o.upload&&s.onUploadProgress&&o.upload.addEventListener("progress",function(l){s.onUploadProgress&&s.onUploadProgress(l)}),o.send(s.body)}),je=async(e,t={})=>ks("get",e,t),Uu=async(e,t={})=>ks("post",e,t),mo=async(e,t)=>ks("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),Se=async(e,t)=>mo(e,JSON.stringify(t));var zu={resendVerificationMail:async e=>Se("/api/user/_resend_verification_mail",e),requestPasswordReset:async e=>Se("/api/user/_request_password_reset",e),register:async e=>Se("/api/user/_register",e),resetPassword:async e=>Se("/api/user/_reset_password",e),handleToken:async e=>Se("/api/_handle-token",e),saveVariables:async e=>Se("/api/save-variables",e),twitchUserIdByName:async e=>Se("/api/twitch/user-id-by-name",e),saveUserSettings:async e=>Se("/api/save-settings",e),getPageVariablesData:async()=>je("/api/page/variables"),getPageIndexData:async()=>je("/api/page/index"),getPageSettingsData:async()=>je("/api/page/settings"),getDataGlobal:async()=>je("/api/data/global"),getMe:async()=>je("/api/user/me"),logout:async()=>Uu("/api/logout"),login:async e=>Se("/api/auth",e),getConf:async()=>je("/api/conf"),upload:async(e,t)=>{const s=new FormData;return s.append("file",e,e.name),ks("post","/api/upload",{body:s,onUploadProgress:t})},importPlaylist:async e=>mo("/api/sr/import",e),getDrawcastAllImages:async()=>je("/api/drawcast/all-images/"),createWidgetUrl:async e=>Se("/api/widget/create_url",e)};const Hu=nt("MediaQueueElement.vue"),Wu=Z({props:{timeBetweenMediaMs:{type:Number,default:400},baseVolume:{type:Number,default:100},displayLatestForever:{type:Boolean,default:!1}},data(){return{queue:[],worker:null,showimage:!1,imgstyle:null,videosrc:"",latestResolved:!0}},methods:{async _playone(e){return new Promise(async t=>{this.latestResolved=!1;const s=[];e.video.url&&(this.videosrc=e.video.url,s.push(new Promise(i=>{this.$nextTick(()=>{const n=this.$refs.video,o=e.video.volume/100;n.addEventListener("error",r=>{Hu.error("error when playing video",r),i()}),n.volume=_t.clamp(0,o,1),n.addEventListener("ended",()=>{i()})})}))),e.image_url?(this.showimage=!0,this.imgstyle={backgroundImage:`url(${e.image_url})`}):e.image&&e.image.file&&(await this._prepareImage(e.image.urlpath),this.showimage=!0,this.imgstyle={backgroundImage:`url(${e.image.urlpath})`}),e.minDurationMs&&s.push(new Promise(i=>{setTimeout(i,_t.parseHumanDuration(e.minDurationMs))})),e.sound&&e.sound.file&&s.push(new Promise(i=>{const n=new Audio(e.sound.urlpath);n.addEventListener("ended",()=>{i()});const o=this.baseVolume/100,r=e.sound.volume/100;n.volume=_t.clamp(0,o*r,1),n.play()})),s.length===0&&s.push(new Promise(i=>{setTimeout(i,1e3)})),Promise.all(s).then(i=>{this.displayLatestForever||(this.showimage=!1),this.latestResolved=!0,this.videosrc="",t()})})},_addQueue(e){if(this.queue.push(e),this.worker)return;const t=async()=>{if(this.queue.length===0){clearInterval(this.worker),this.worker=null;return}const s=this.queue.shift();if(!s){clearInterval(this.worker),this.worker=null;return}await this._playone(s),this.worker=setTimeout(t,this.timeBetweenMediaMs)};this.worker=setTimeout(t,this.timeBetweenMediaMs)},async _prepareImage(e){return new Promise(t=>{const s=new Image;s.src=e,this.$nextTick(()=>{s.complete?t():s.onload=()=>{t()}})})},playmedia(e){!this.displayLatestForever&&this.latestResolved&&(this.showimage=!1),this._addQueue(e)}}}),Vu=Wu,qu={key:0,class:"video-container"},Ku={class:"video-16-9"},Ju=["src"];function Yu(e,t,s,i,n,o){return w(),$(J,null,[d("div",{style:ee(e.imgstyle),class:G(["image-container",{"m-fadeIn":e.showimage,"m-fadeOut":!e.showimage}])},null,6),e.videosrc?(w(),$("div",qu,[d("div",Ku,[d("video",{src:e.videosrc,ref:"video",autoplay:""},null,8,Ju)])])):N("",!0)],64)}var Ts=ie(Vu,[["render",Yu],["__scopeId","data-v-0e0227f2"]]);const ju=Z({components:{MediaQueueElement:Ts},data(){return{inited:!1,ws:null,notificationSoundAudio:null,manualApproval:{items:[]}}},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}},created(){ot(()=>Promise.resolve({}),["assets/main.6b6e9440.css"])},mounted(){this.ws=Ie.wsClient("drawcast_control"),this.ws.onMessage("init",async e=>{const s=await(await zu.getDrawcastAllImages()).json();e.settings.notificationSound&&(this.notificationSoundAudio=new Audio(e.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=e.settings.notificationSound.volume/100),this.manualApproval.items=s.filter(i=>!i.approved).map(i=>i.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}}),Qu={class:"p-2"},Zu=d("h1",{class:"title"},"Drawings awaiting approval",-1),Xu={key:0},Gu={class:"card-body"},ed=["src"],td={class:"card-footer"},sd=["onClick"],id=["onClick"],nd={key:1};function od(e,t,s,i,n,o){return w(),$("div",Qu,[Zu,e.manualApproval.items.length?(w(),$("div",Xu,[(w(!0),$(J,null,he(e.manualApproval.items,(r,l)=>(w(),$("div",{class:"image-to-approve card mr-1",key:l},[d("div",Gu,[d("img",{src:r,class:"thumbnail mr-1"},null,8,ed)]),d("div",td,[d("span",{class:"card-footer-item button is-small is-success is-light",onClick:a=>e.approveImage(r)}," Approve! ",8,sd),d("span",{class:"card-footer-item button is-small is-danger is-light",onClick:a=>e.denyImage(r)}," Deny! ",8,id)])]))),128))])):(w(),$("div",nd,"Currently there are no drawings awaiting approval."))])}var rd=ie(ju,[["render",od]]);const ld=(e=null)=>({filename:O(e,["filename"],""),file:O(e,["file"],""),urlpath:O(e,["urlpath"],""),volume:O(e,["volume"],100)}),ad=(e=null)=>({filename:O(e,["filename"],""),file:O(e,["file"],""),urlpath:O(e,["urlpath"],"")}),cd=(e=null)=>({url:O(e,["url"],""),volume:O(e,["volume"],100)}),hs=(e=null)=>({widgetIds:O(e,["widgetIds"],[]),sound:ld(e==null?void 0:e.sound),image:ad(e==null?void 0:e.image),image_url:O(e,["image_url"],""),video:cd(e==null?void 0:e.video),minDurationMs:O(e,["minDurationMs"],"1s")}),ud=Z({components:{MediaQueueElement:Ts},data(){return{ws:null,displayDuration:5e3,displayLatestForever:!1,notificationSound:null,images:[]}},computed:{q(){return this.$refs.q}},mounted(){this.ws=Ie.wsClient("drawcast_receive"),this.ws.onMessage("init",e=>{this.displayLatestForever=e.settings.displayLatestForever,this.notificationSound=e.settings.notificationSound,this.images=e.images.map(t=>t.path),e.settings.displayLatestAutomatically&&this.images.length>0&&this.q.playmedia(hs({image_url:this.images[0],minDurationMs:this.displayDuration}))}),this.ws.onMessage("approved_image_received",e=>{this.images.unshift(e.img),this.images=this.images.slice(0,20),this.q.playmedia(hs({sound:e.mayNotify?this.notificationSound:null,image_url:e.img,minDurationMs:this.displayDuration}))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function dd(e,t,s,i,n,o){const r=Q("media-queue-element");return w(),re(r,{ref:"q",timeBetweenMediaMs:500,displayLatestForever:e.displayLatestForever},null,8,["displayLatestForever"])}var fd=ie(ud,[["render",dd]]);const hd=()=>({volume:100}),gd=Z({components:{MediaQueueElement:Ts},data(){return{ws:null,settings:hd(),widgetId:""}},computed:{q(){return this.$refs.q}},created(){ot(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"]),this.widgetId=Ie.getParam("id")},mounted(){this.ws=Ie.wsClient("media"),this.ws.onMessage("init",e=>{this.settings=e.settings}),this.ws.onMessage("playmedia",e=>{!this.widgetId&&e.widgetIds.length>0&&!e.widgetIds.includes("")||this.widgetId&&!e.widgetIds.includes(this.widgetId)||this.q.playmedia(hs(e))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function pd(e,t,s,i,n,o){const r=Q("media-queue-element");return w(),re(r,{ref:"q",baseVolume:e.settings.volume},null,8,["baseVolume"])}var md=ie(gd,[["render",pd]]);const _d=Z({components:{MediaQueueElement:Ts},data:()=>({ws:null,data:null,timeout:null,now:null}),computed:{showTimerWhenFinished(){return this.data?!!this.data.settings.showTimerWhenFinished:!1},finishedText(){return this.data?this.data.settings.finishedText:""},finishined(){return this.timeLeft<=0},running(){return this.data?!!this.data.state.running:!1},timeLeftHumanReadable(){if(!this.data)return"";const e=Math.max(this.timeLeft,0),s=1e3*1,i=60*s,n=60*i,o=_t.pad(Math.floor(e/n),"00"),r=_t.pad(Math.floor(e%n/i),"00"),l=_t.pad(Math.floor(e%n%i/s),"00");let a=this.data.settings.timerFormat;return a=a.replace("{hh}",o),a=a.replace("{mm}",r),a=a.replace("{ss}",l),a},timeLeft(){return!this.dateEnd||!this.now?0:this.dateEnd.getTime()-this.now.getTime()},dateEnd(){return!this.dateStarted||!this.data?null:new Date(this.dateStarted.getTime()+this.data.state.durationMs)},dateStarted(){return this.data?new Date(JSON.parse(this.data.state.startTs)):null},widgetStyles(){return this.data?{fontFamily:this.data.settings.fontFamily,fontSize:this.data.settings.fontSize,color:this.data.settings.color}:null},q(){return this.$refs.q}},methods:{tick(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.now=new Date,this.data&&this.data.state.running&&this.tick()},1e3)}},created(){ot(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"])},mounted(){this.ws=Ie.wsClient("pomo"),this.ws.onMessage("init",e=>{this.data=e,this.tick()}),this.ws.onMessage("effect",e=>{this.q.playmedia(hs({sound:e.sound,minDurationMs:0}))}),this.ws.connect()},unmounted(){this.timeout&&clearTimeout(this.timeout),this.ws&&this.ws.disconnect()}}),yd={key:0},wd={key:1},vd={key:0},bd={key:1};function Cd(e,t,s,i,n,o){const r=Q("media-queue-element");return w(),$(J,null,[e.running?(w(),$("div",{key:0,style:ee(e.widgetStyles)},[e.finishined?(w(),$("div",wd,[e.showTimerWhenFinished?(w(),$("span",vd,z(e.timeLeftHumanReadable),1)):N("",!0),e.finishedText?(w(),$("span",bd,z(e.finishedText),1)):N("",!0)])):(w(),$("div",yd,z(e.timeLeftHumanReadable),1))],4)):N("",!0),X(r,{ref:"q",timeBetweenMediaMs:100},null,512)],64)}var $d=ie(_d,[["render",Cd]]);const _e=nt("speech-to-text/Page.vue"),Id=Z({props:{controls:{type:Boolean,required:!0},widget:{type:String,required:!0}},data:()=>({ws:null,status:"",errors:[],initedSpeech:!1,lastUtterance:"",recognition:{interimResults:!1,continuous:!0},texts:[],timeout:null,settings:null,srObj:null}),computed:{recognizedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].recognized},translatedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].translated},lastRecognizedText(){return this.texts.length===0?"":this.texts[this.texts.length-1].recognized},wantsSpeech(){return this.settings?this.settings.recognition.synthesize||this.settings.translation.synthesize:!1},textTable(){return this.$refs.text_table}},methods:{initSpeech(){_e.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),this.initedSpeech=!0},_next(){if(this.timeout){_e.info("_next(): timeout still active");return}if(!this.recognizedText&&!this.translatedText){_e.info("_next(): recognizedText and translatedText empty");return}if(!this.settings){_e.info("_next(): settings empty");return}this.recognizedText&&this.settings.recognition.synthesize&&(_e.info("synthesizing recognized text"),this.synthesize(this.recognizedText,this.settings.recognition.synthesizeLang)),this.translatedText&&this.settings.translation.synthesize&&(_e.info("synthesizing translated text"),this.synthesize(this.translatedText,this.settings.translation.synthesizeLang)),this.timeout=setTimeout(()=>{this.texts.shift(),this.timeout=null,this._next()},this.calculateSubtitleDisplayTime(`${this.recognizedText} ${this.translatedText}`))},calculateSubtitleDisplayTime(e){const t=ia(e);return ho(2*it,t,10*it)},synthesize(e,t){if(_e.info("synthesize",this.lastUtterance,e,t),this.lastUtterance!==e){_e.info("speechSynthesis",speechSynthesis),this.lastUtterance=e;let s=new SpeechSynthesisUtterance(`${this.lastUtterance}`);t&&(s.lang=t),speechSynthesis.cancel(),speechSynthesis.speak(s)}},applyStyles(){if(!this.settings){_e.info("applyStyles(): settings empty");return}const e=this.settings.styles,t=e.bgColorEnabled&&e.bgColor!=null?e.bgColor:"";document.body.style.backgroundColor=t,e.vAlign==="top"?this.textTable.style.bottom=null:e.vAlign==="bottom"&&(this.textTable.style.bottom="0px");const s=(i,n,o,r,l)=>{if(r.color!=null&&(n.style.color=r.color),i.style.webkitTextStrokeColor=l,r.strokeWidth!=null){const a=ei(r.strokeWidth);i.style.webkitTextStrokeWidth=a,o.style.webkitTextStrokeWidth=a}if(r.strokeColor!=null&&(o.style.webkitTextStrokeColor=r.strokeColor),r.fontFamily!=null&&(i.style.fontFamily=r.fontFamily,n.style.fontFamily=r.fontFamily,o.style.fontFamily=r.fontFamily),r.fontSize!=null){const a=ei(r.fontSize);i.style.fontSize=a,n.style.fontSize=a,o.style.fontSize=a}r.fontWeight!=null&&(i.style.fontWeight=r.fontWeight,n.style.fontWeight=r.fontWeight,o.style.fontWeight=r.fontWeight)};this.settings.recognition.display&&s(this.$refs["speech_text-imb"],this.$refs["speech_text-fg"],this.$refs["speech_text-bg"],e.recognition,t),this.settings.translation.enabled&&s(this.$refs["trans_text-imb"],this.$refs["trans_text-fg"],this.$refs["trans_text-bg"],e.translation,t)},initVoiceRecognition(){if(!this.controls)return;if(!this.settings){_e.info("initVoiceRecognition(): settings empty");return}const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){alert("This widget does not work in this browser. Try a chrome based browser.");return}this.srObj&&(this.srObj.abort(),this.srObj.stop()),this.srObj=new e,this.srObj.lang=this.settings.recognition.lang,this.srObj.interimResults=this.recognition.interimResults,this.srObj.continuous=this.recognition.continuous,this.srObj.onsoundstart=()=>{this.status="Sound started"},this.srObj.onnomatch=()=>{this.status="No match"},this.srObj.onerror=t=>{this.status="Error",this.errors.unshift(t.error),this.errors=this.errors.slice(0,10),this.initVoiceRecognition()},this.srObj.onsoundend=()=>{this.status="Sound ended",this.initVoiceRecognition()},this.srObj.onspeechend=()=>{this.status="Speech ended",this.initVoiceRecognition()},this.srObj.onresult=async t=>{this.onVoiceResult(t),this.initVoiceRecognition()},this.srObj.start()},onVoiceResult(e){if(!this.ws){_e.error("onVoiceResult: this.ws not set");return}let t=e.results;_e.info("onVoiceResult()",e);for(var s=e.resultIndex;s<t.length;s++){if(!t[s].isFinal)continue;const i=t[s][0].transcript;if(this.lastRecognizedText!==i){this.ws.send(JSON.stringify({event:"onVoiceResult",text:i}));break}}}},created(){ot(()=>Promise.resolve({}),["assets/main.789973a0.css"])},mounted(){this.ws=Ie.wsClient(this.widget),this.ws.onMessage("text",e=>{this.texts.push({recognized:e.recognized,translated:e.translated,ready:!0}),this._next()}),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles(),this.initVoiceRecognition()})}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}}),kd={key:0,class:"big",ref:"result_text"},Td={key:0},Sd={key:0},Md=d("div",null,"Latest errors:",-1),Ed={ref:"text_table",class:"btm_table"},Pd={align:"center",valign:"bottom"};function xd(e,t,s,i,n,o){return e.settings?(w(),$("div",kd,[e.settings.status.enabled?(w(),$("div",Td,[Ft(z(e.status)+" ",1),e.errors.length>0?(w(),$("div",Sd,[Md,d("ul",null,[(w(!0),$(J,null,he(e.errors,(r,l)=>(w(),$("li",{key:l},z(r),1))),128))])])):N("",!0)])):N("",!0),e.controls&&e.wantsSpeech&&!e.initedSpeech?(w(),$("button",{key:1,onClick:t[0]||(t[0]=(...r)=>e.initSpeech&&e.initSpeech(...r))}," Enable Speech Synthesis ")):N("",!0),d("table",Ed,[d("tr",null,[d("td",Pd,[e.settings.recognition.display?(w(),$("div",{key:0,class:"stroke-single-bg",ref:"speech_text-bg"},z(e.recognizedText),513)):N("",!0),e.settings.recognition.display?(w(),$("div",{key:1,class:"stroke-single-fg",ref:"speech_text-fg"},z(e.recognizedText),513)):N("",!0),e.settings.recognition.display?(w(),$("div",{key:2,class:"stroke-single-imb",ref:"speech_text-imb"},z(e.recognizedText),513)):N("",!0),e.settings.translation.enabled?(w(),$("div",{key:3,class:"stroke-single-bg",ref:"trans_text-bg"},z(e.translatedText),513)):N("",!0),e.settings.translation.enabled?(w(),$("div",{key:4,class:"stroke-single-fg",ref:"trans_text-fg"},z(e.translatedText),513)):N("",!0),e.settings.translation.enabled?(w(),$("div",{key:5,class:"stroke-single-imb",ref:"trans_text-imb"},z(e.translatedText),513)):N("",!0)])])],512)],512)):N("",!0)}var Dd=ie(Id,[["render",xd]]);const Od=(e=null)=>({name:O(e,["name"],""),css:O(e,["css"],""),showProgressBar:O(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:O(e,["maxItemsShown"],-1)}),Ad=(e=null)=>{var t,s;return{volume:O(e,["volume"],100),initAutoplay:O(e,["initAutoplay"],!0),hideVideoImage:{file:O(e,["hideVideoImage","file"],""),filename:O(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(s=e==null?void 0:e.hideVideoImage)!=null&&s.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:O(e,["maxSongLength","viewer"],0),mod:O(e,["maxSongLength","mod"],0),sub:O(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(O(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(O(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(O(e,["maxSongsQueued","sub"],0)),10)},customCss:O(e,["customCss"],""),customCssPresets:O(e,["customCssPresets"],[]).map(Od),showProgressBar:O(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:O(e,["maxItemsShown"],-1)}},Rd=["title"],Fd=Z({name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,s=wi(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(i,n)=>(w(),$("div",{class:"responsive-image",style:ee(ls(s)),title:e.title},null,12,Rd))}}),tt=(...e)=>console.log("[youtube.js]",...e);let hn=!1;function Ld(){return hn?(tt("ytapi ALREADY ready"),Promise.resolve()):new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=()=>{hn=!0,tt("ytapi ready"),e()}})}function Nd(e){return new Promise(t=>{tt("create player on "+e);const s=new YT.Player(e,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{tt("player ready"),t(s)}}})})}async function Bd(e){return await Ld(),await Nd(e)}const Ud=Z({name:"youtube",props:{visible:{type:Boolean,default:!0}},data:()=>({id:"",yt:null,loop:!1,toplay:null,tovolume:null,tryPlayInterval:null}),created(){this.id=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`},methods:{getDuration(){return this.yt?this.yt.getDuration():0},getCurrentTime(){return this.yt?this.yt.getCurrentTime():0},getProgress(){const e=this.getDuration(),t=this.getCurrentTime();return e?t/e:0},stop(){this.yt&&this.yt.stopVideo()},stopTryPlayInterval(){this.tryPlayInterval&&(clearInterval(this.tryPlayInterval),this.tryPlayInterval=null)},tryPlay(){if(this.stopTryPlayInterval(),!this.visible)return;this.yt&&this.yt.playVideo();let e=20;this.tryPlayInterval=setInterval(()=>{if(tt("playing",this.playing(),"triesRemaining",e),--e,this.playing()||e<0){tt("stopping interval"),this.stopTryPlayInterval();return}this.yt&&this.yt.playVideo()},250)},play(e){this.yt?(this.yt.cueVideoById(e),this.tryPlay()):this.toplay=e},pause(){this.yt&&this.yt.pauseVideo()},unpause(){this.yt&&this.tryPlay()},setVolume(e){this.yt?this.yt.setVolume(e):this.tovolume=e},setLoop(e){this.loop=e},playing(){return this.yt?this.yt.getPlayerState()===1:!1}},async mounted(){this.yt=await Bd(this.id),this.tovolume!==null&&this.yt.setVolume(this.tovolume),this.toplay!==null&&(tt("trying to play.."),this.play(this.toplay)),this.yt.addEventListener("onStateChange",e=>{e.data===YT.PlayerState.CUED?this.tryPlay():e.data===YT.PlayerState.ENDED&&(this.loop?this.tryPlay():this.$emit("ended"))})}}),zd=Ud,Hd=["id"];function Wd(e,t,s,i,n,o){return w(),$("div",{id:e.id},null,8,Hd)}var Vd=ie(zd,[["render",Wd]]);const qd=Z({props:{item:{type:Object,required:!0},showThumbnails:{required:!0}},template:" ",computed:{thumbnail(){return`https://i.ytimg.com/vi/${this.item.yt}/mqdefault.jpg`}}}),Kd=["data-user","data-yt"],Jd={key:0,class:"thumbnail"},Yd={class:"media-16-9"},jd=["src"],Qd={class:"title"},Zd={class:"title-content title-orig"},Xd={class:"title-content title-dupl"},Gd={class:"meta meta-left"},ef={class:"meta-user"},tf=d("span",{class:"meta-user-text-before"},"requested by ",-1),sf={class:"meta-user-name"},nf=d("span",{class:"meta-user-text-after"},null,-1),of={class:"meta-plays"},rf=d("span",{class:"meta-plays-text-before"},"played ",-1),lf={class:"meta-plays-count"},af={class:"meta-plays-text-after"},cf={class:"meta meta-right vote"},uf={class:"meta-plays"},df=d("i",{class:"fa fa-repeat"},null,-1),ff={class:"vote-up"},hf=d("i",{class:"fa fa-thumbs-up"},null,-1),gf={class:"vote-down"},pf=d("i",{class:"fa fa-thumbs-down"},null,-1);function mf(e,t,s,i,n,o){return w(),$("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(w(),$("div",Jd,[d("div",Yd,[d("img",{src:e.thumbnail},null,8,jd)])])):N("",!0),d("div",Qd,[d("span",Zd,z(e.item.title||e.item.yt),1),d("span",Xd,z(e.item.title||e.item.yt),1)]),d("div",Gd,[d("span",ef,[tf,d("span",sf,z(e.item.user),1),nf]),d("span",of,[rf,d("span",lf,z(e.item.plays),1),d("span",af," time"+z(e.item.plays===1?"":"s"),1)])]),d("div",cf,[d("span",uf,[df,Ft(" "+z(e.item.plays),1)]),d("span",ff,[hf,Ft(" "+z(e.item.goods),1)]),d("span",gf,[pf,Ft(" "+z(e.item.bads),1)])])],8,Kd)}var _f=ie(qd,[["render",mf]]);const yf=nt("Page.vue"),wf=Z({components:{ResponsiveImage:Fd,Youtube:Vd,ListItem:_f},data(){return{ws:null,filter:{tag:""},hasPlayed:!1,playlist:[],settings:Ad(),progress:0,progressInterval:null,inited:!1}},watch:{playlist:function(e,t){e.find((s,i)=>!this.isFilteredOut(s,i))||this.player.stop()},filter:function(e,t){this.playlist.find((s,i)=>!this.isFilteredOut(s,i))||this.player.stop()}},computed:{thumbnailClass(){return this.settings.showThumbnails==="left"?"with-thumbnails-left":this.settings.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"},progressBarClass(){return this.settings.showProgressBar?"with-progress-bar":"without-progress-bar"},classes(){return[this.thumbnailClass,this.progressBarClass]},player(){return this.$refs.youtube},progressValueStyle(){return{width:`${this.progress*100}%`}},playlistItems(){const e=[];for(let t=0;t<this.playlist.length;t++){const s=this.playlist[t];this.isFilteredOut(s,t)||(e[t]=s)}return e},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},hidevideo(){return this.item?!!this.item.hidevideo:!1},item(){return this.filteredPlaylist.length===0?null:this.filteredPlaylist[0]}},methods:{isFilteredOut(e,t){return this.settings.maxItemsShown>=0&&this.settings.maxItemsShown-1<t?!0:this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},ended(){this.sendMsg({event:"ended"})},sendMsg(e){if(!this.ws){yf.error("sendMsg, ws not defined");return}this.ws.send(JSON.stringify(e))},play(){this.hasPlayed=!0,this.adjustVolume(),this.item&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.item&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.item&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(){this.player&&this.player.setVolume(this.settings.volume)},applySettings(e){if(this.settings.customCss!==e.customCss){let t=document.getElementById("customCss");t&&t.parentElement&&t.parentElement.removeChild(t),t=document.createElement("style"),t.id="customCss",t.textContent=e.customCss,document.head.appendChild(t)}this.settings.showProgressBar!==e.showProgressBar&&(this.progressInterval&&window.clearInterval(this.progressInterval),e.showProgressBar&&(this.progressInterval=window.setInterval(()=>{this.player&&(this.progress=this.player.getProgress())},500))),this.settings=e,this.adjustVolume()}},created(){ot(()=>Promise.resolve({}),["assets/main.262dcd44.css"])},mounted(){this.ws=Ie.wsClient("sr"),this.ws.onMessage(["save","settings"],e=>{this.applySettings(e.settings)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const s=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==s&&this.play()}),this.ws.onMessage(["filter"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(s=>s.id===t)||this.play()}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||(this.hasPlayed?this.unpause():this.play())}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["stats","video","playIdx","shuffle"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.settings.initAutoplay&&this.play(),this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}}),vf={class:"player video-16-9"},bf={key:1,class:"hide-video"},Cf={key:2,class:"progress"},$f={class:"list"};function If(e,t,s,i,n,o){const r=Q("responsive-image"),l=Q("youtube"),a=Q("list-item");return w(),$("div",{class:G(["wrapper",e.classes])},[d("div",vf,[e.hidevideo&&e.settings.hideVideoImage.file?(w(),re(r,{key:0,class:"hide-video",src:e.settings.hideVideoImage.urlpath},null,8,["src"])):e.hidevideo?(w(),$("div",bf)):N("",!0),e.settings.showProgressBar?(w(),$("div",Cf,[d("div",{class:"progress-value",style:ee(e.progressValueStyle)},null,4)])):N("",!0),X(l,{ref:"youtube",onEnded:e.ended},null,8,["onEnded"])]),d("ol",$f,[(w(!0),$(J,null,he(e.playlistItems,(h,p)=>(w(),re(a,{class:G(p===0?"playing":"not-playing"),key:p,item:h,showThumbnails:e.settings.showThumbnails},null,8,["class","item","showThumbnails"]))),128))])],2)}var kf=ie(wf,[["render",If]]);const Tf=Z({components:{AvatarPage:Aa,DrawcastDrawPage:Bu,DrawcastControlPage:rd,DrawcastReceivePage:fd,MediaPage:md,PomoPage:$d,SpeechToTextPage:Dd,SrPage:kf},props:{widget:{type:String,required:!0}},created(){document.documentElement.classList.add(this.widget)}});function Sf(e,t,s,i,n,o){const r=Q("avatar-page"),l=Q("drawcast-draw-page"),a=Q("drawcast-control-page"),h=Q("drawcast-receive-page"),p=Q("media-page"),I=Q("pomo-page"),f=Q("speech-to-text-page"),S=Q("sr-page");return e.widget==="avatar"?(w(),re(r,{key:0,controls:!0,widget:"avatar"})):e.widget==="avatar_receive"?(w(),re(r,{key:1,controls:!1,widget:"avatar_receive"})):e.widget==="drawcast_draw"?(w(),re(l,{key:2})):e.widget==="drawcast_control"?(w(),re(a,{key:3})):e.widget==="drawcast_receive"?(w(),re(h,{key:4})):e.widget==="media"?(w(),re(p,{key:5})):e.widget==="pomo"?(w(),re(I,{key:6})):e.widget==="speech-to-text"?(w(),re(f,{key:7,controls:!0,widget:"speech-to-text"})):e.widget==="speech-to-text_receive"?(w(),re(f,{key:8,controls:!1,widget:"speech-to-text_receive"})):e.widget==="sr"?(w(),re(S,{key:9})):N("",!0)}var Mf=ie(Tf,[["render",Sf]]);const Ef=Hl(Mf,{widget:Ie.widget()});Ef.mount("#app");
